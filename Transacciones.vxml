<?xml version="1.0" encoding="utf-8"?>
<vxml version="2.1" xml:lang="en-US"
		xmlns="http://www.w3.org/2001/vxml"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xmlns:gvp="http://www.genesyslab.com/2006/vxml21-extension" application="../src/ComposerRoot.vxml">

	
	<!-- VXML code generated by Composer 8.1.450.08 -->
	<!-- Diagram created by Composer: Composer 8.1.450.08 -->
	<!-- Project version: 8.1.450.08 -->
	<!-- Diagram version: 1.0 CreatedOn:  -->
	<!-- Application Author:  -->
	<!-- Release Mode: true -->

	<!-- Global Scripts includes -->
	<script src="../include/common.js" />
	<script src="../include/ctic.js" />
	<script src="../include/json.js" />
	<script src="../include/DataAccess.js" />

	<!-- Global Vars declarations -->
	<script>
		var AppState = new Object();
		AppState.System = new Object();
		AppState.System.RetainInputTypeVariableDefaultValue = false;
		AppState.CallUUID = session.connection.uuid;
		AppState.ANI = getANI();
		AppState.DNIS = getDNIS();
		AppState.USE_LCASE_USERDATAKEY = initSystemTypeVariable('USE_LCASE_USERDATAKEY',0);
  		
  		if (session.connection.protocol.sip.headers != undefined &amp;&amp;
			    session.connection.protocol.sip.headers['x-genesys-gvp-session-id']){
			AppState.GVPSessionID = session.connection.protocol.sip.headers['x-genesys-gvp-session-id'];
		} else {
			AppState.GVPSessionID = 'undefined';
		}
  			
		
		AppState.ActDatos = 1;
		AppState.APP_ASR_LANGUAGE = initSystemTypeVariable('APP_ASR_LANGUAGE','en-US');
		AppState.APP_LANGUAGE = initSystemTypeVariable('APP_LANGUAGE','en-US');
		AppState.calluuid = AppState.CallUUID;
		AppState.ChIdMensajeTs = '';
		AppState.clave = '';
		AppState.clave1 = '';
		AppState.clave2 = '';
		AppState.codSeguridad = '';
		AppState.COMPOSER_WSSTUBBING = initSystemTypeVariable('COMPOSER_WSSTUBBING','0');
		AppState.contador = 0;
		AppState.desRechazo = '';
		AppState.EnableFCR = initSystemTypeVariable('EnableFCR',true);
		AppState.EnableReports = initSystemTypeVariable('EnableReports',false);
		AppState.EnableSNMP = initSystemTypeVariable('EnableSNMP',false);
		AppState.GRAMMARFILEDIR = initSystemTypeVariable('GRAMMARFILEDIR','../Resources/Grammars');
		AppState.idinteraccion = AppState.CallUUID;
		AppState.LAST_EVENT_ELEMENT = initSystemTypeVariable('LAST_EVENT_ELEMENT','undefined');
		AppState.LAST_EVENT_LINE = initSystemTypeVariable('LAST_EVENT_LINE','undefined');
		AppState.LAST_EVENT_MSG = initSystemTypeVariable('LAST_EVENT_MSG','undefined');
		AppState.LAST_EVENT_NAME = initSystemTypeVariable('LAST_EVENT_NAME','undefined');
		AppState.LAST_EVENT_URL = initSystemTypeVariable('LAST_EVENT_URL','undefined');
		AppState.menu = '';
		AppState.menuAnt = '';
		AppState.movimiento = '';
		AppState.nro_tarjetas = '';
		AppState.OCS_Record = initSystemTypeVariable('OCS_Record',getCallflowOCSRecord());
		AppState.OCS_RecordURI = initSystemTypeVariable('OCS_RecordURI',getCallflowRecordURI());
		AppState.OCS_URI = initSystemTypeVariable('OCS_URI',getCallflowOCSURI());
		AppState.opcion = '';
		AppState.origen = '';
		AppState.PREV_APP_ASR_LANGUAGE = initSystemTypeVariable('PREV_APP_ASR_LANGUAGE','undefined');
		AppState.PREV_APP_LANGUAGE = initSystemTypeVariable('PREV_APP_LANGUAGE','undefined');
		AppState.registro = '';
		AppState.request = '';
		AppState.rtaOds = '';
		AppState.rtaRechazo = '';
		AppState.RtaWS = '';
		AppState.SCRIPTSDIR = initSystemTypeVariable('SCRIPTSDIR','../Scripts');
		AppState.SitioSeg = '';
		AppState.sitioSeguro = '';
		AppState.srtTieneClave = '';
		AppState.status = '';
		AppState.StatusCode = '';
		AppState.StatusDesc = '';
		AppState.strDatoPersonalCel = '';
		AppState.strIntentoCedula = '';
		AppState.strValidaToken = '';
		AppState.tarjeta_a_bloquear = '';
		AppState.temporal = '';
		AppState.tieneProd = '';
		AppState.tieneTD = '';
		AppState.tipoId = '';
		AppState.urlCRMM = '';
		AppState.VOXFILEDIR = initSystemTypeVariable('VOXFILEDIR','../Resources/Prompts');
		AppState.DB_InicioTransacc_mapping = [];
		AppState.DB_UsuarioAuth_mapping = [];
		AppState.DB_NoAuth_mapping = [];
		AppState.DB_TokenN_mapping = [];
		AppState.DB_TokenS_mapping = [];
		AppState.DB_TokenB_mapping = [];
		AppState.DB_NoPodAtender_mapping = [];
		AppState.DBData1_mapping = [];
		AppState.DBData2_mapping = [];
		AppState.DB_TokenA_mapping = [];
		AppState.DB_ClaveAleatoria_mapping = [];
		AppState.DB_FallaVOTP_mapping = [];
		AppState.Copy_1_DB_FallaVOTP_mapping = [];
		AppState.DB_ClaveInv_mapping = [];
		AppState.DB_ClaveVal_mapping = [];
		AppState.DB_TransaExito_mapping = [];
		AppState.DB_TransaNoExito_mapping = [];
		AppState.DB_NoContinuar_mapping = [];
		AppState.DB_Continuar_mapping = [];
		AppState.DB_Saldos_mapping = [];
		AppState.DB_Pagos_mapping = [];
		AppState.DB_AvanceTransfer_mapping = [];
		AppState.DB_Recargas_mapping = [];
		AppState.DB_RepetirMe_mapping = [];
		AppState.Copy_1_DB_RepetirMe_mapping = [];
		AppState.DB_ExcedeInt_mapping = [];
	</script>

		
	<!-- Global Scripts -->
	<script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
	<script srcexpr="AppState.VOXFILEDIR + '/en-US/en-US.js'" />
	<script srcexpr="AppState.VOXFILEDIR + '/es-CO/es-CO.js'" />
	<script>var f = new Format();</script>

	
	<script srcexpr="AppState.VOXFILEDIR + '/en-US/customprompts.js'" />
	<script srcexpr="AppState.VOXFILEDIR + '/es-CO/customprompts.js'" />
	
	
	<!-- Global Properties declarations -->
	<property name="com.genesyslab.logtoasr" value="false" />   	
	<property name="com.genesyslab.loglevel" value="5" />

	<!-- Metadata information -->
	<meta name="com.genesyslab.studio.resourcePath" content="/Callflows/Transacciones.callflow"/>

	<!-- Global links -->
	<form>	
		<!-- VAR Parent Action Param -->
		<var name="varActionParentId" expr="''"/>
		<var name="ActualizaDatos" expr="''"/>
		<var name="ADN" expr="''"/>
		<var name="authTD" expr="''"/>
		<var name="bloqueoPINErrado" expr="''"/>
		<var name="cafeteros" expr="''"/>
		<var name="cantADN" expr="''"/>
		<var name="cantCardeb" expr="''"/>
		<var name="cantCdts" expr="''"/>
		<var name="cantCredGA" expr="''"/>
		<var name="cantCrediservice" expr="''"/>
		<var name="cantCreditos" expr="''"/>
		<var name="cantCtasAho" expr="''"/>
		<var name="cantCtasCtes" expr="''"/>
		<var name="cantCuentasTotal" expr="''"/>
		<var name="CantEncFid" expr="''"/>
		<var name="cantTarjetasCredito" expr="''"/>
		<var name="cantTCOtros" expr="''"/>
		<var name="cardeb" expr="''"/>
		<var name="cdts" expr="''"/>
		<var name="ChBytesEstadoResp" expr="''"/>
		<var name="claveSegura" expr="''"/>
		<var name="connid" expr="''"/>
		<var name="CredGA" expr="''"/>
		<var name="Crediservice" expr="''"/>
		<var name="creditos" expr="''"/>
		<var name="CtasAho" expr="''"/>
		<var name="CtasCtes" expr="''"/>
		<var name="cuentaSaldos" expr="''"/>
		<var name="cuentasTotal" expr="''"/>
		<var name="datoSeguro" expr="''"/>
		<var name="EncFid" expr="''"/>
		<var name="infoTCOtros" expr="''"/>
		<var name="m_Ani" expr="''"/>
		<var name="m_ColaVQ" expr="''"/>
		<var name="m_Fecha" expr="''"/>
		<var name="m_Identificacion" expr="''"/>
		<var name="m_IdGvp" expr="''"/>
		<var name="m_IdOrs" expr="''"/>
		<var name="m_Movimiento" expr="''"/>
		<var name="m_Nombre" expr="''"/>
		<var name="m_Opcion" expr="''"/>
		<var name="m_Origen" expr="''"/>
		<var name="m_TipoId" expr="''"/>
		<var name="m_valorTRX" expr="''"/>
		<var name="persona" expr="''"/>
		<var name="ProductId" expr="''"/>
		<var name="ProductNum" expr="''"/>
		<var name="RPBloqueos" expr="''"/>
		<var name="RPServicios" expr="''"/>
		<var name="rutaAudios" expr="''"/>
		<var name="SafeEmail" expr="''"/>
		<var name="SafePhone" expr="''"/>
		<var name="StatusCodeTI" expr="''"/>
		<var name="str_Main_numDoc" expr="''"/>
		<var name="strNumCuentaSub" expr="''"/>
		<var name="strSwToken" expr="''"/>
		<var name="strTieneToken" expr="''"/>
		<var name="tarjetasCredito" expr="''"/>
		<var name="tipoCtaSaldos" expr="''"/>
		<var name="tramaSIP" expr="''"/>
		<var name="authOk" expr="''"/>
		<var name="Auth4Dig" expr="''"/>
		<var name="infoCreditos" expr="''"/>
		<var name="creditCant" expr="''"/>
		<var name="cantGABanco" expr="''"/>
		<var name="infoGABanco" expr="''"/>
		<var name="cantTC" expr="''"/>
		<var name="infoTC" expr="''"/>
		<var name="infoTCGA" expr="''"/>
		<var name="cantTCGA" expr="''"/>
		<var name="bills" expr="''"/>
		<var name="cantbills" expr="''"/>
		<var name="RPPreferente" expr="''"/>
		<var name="RPCafetero" expr="''"/>
		<var name="RPMesaCafetera" expr="''"/>
		<var name="attxn_pan" expr="''"/>
		<var name="attxn_cajero" expr="''"/>
		<var name="attxn_bin" expr="''"/>
		<block name="paramAssignment">
			<assign name="AppState.ActualizaDatos" expr="ActualizaDatos"/>
			<assign name="AppState.ADN" expr="ADN"/>
			<assign name="AppState.authTD" expr="authTD"/>
			<assign name="AppState.bloqueoPINErrado" expr="bloqueoPINErrado"/>
			<assign name="AppState.cafeteros" expr="cafeteros"/>
			<assign name="AppState.cantADN" expr="cantADN"/>
			<assign name="AppState.cantCardeb" expr="cantCardeb"/>
			<assign name="AppState.cantCdts" expr="cantCdts"/>
			<assign name="AppState.cantCredGA" expr="cantCredGA"/>
			<assign name="AppState.cantCrediservice" expr="cantCrediservice"/>
			<assign name="AppState.cantCreditos" expr="cantCreditos"/>
			<assign name="AppState.cantCtasAho" expr="cantCtasAho"/>
			<assign name="AppState.cantCtasCtes" expr="cantCtasCtes"/>
			<assign name="AppState.cantCuentasTotal" expr="cantCuentasTotal"/>
			<assign name="AppState.CantEncFid" expr="CantEncFid"/>
			<assign name="AppState.cantTarjetasCredito" expr="cantTarjetasCredito"/>
			<assign name="AppState.cantTCOtros" expr="cantTCOtros"/>
			<assign name="AppState.cardeb" expr="cardeb"/>
			<assign name="AppState.cdts" expr="cdts"/>
			<assign name="AppState.ChBytesEstadoResp" expr="ChBytesEstadoResp"/>
			<assign name="AppState.claveSegura" expr="claveSegura"/>
			<assign name="AppState.connid" expr="connid"/>
			<assign name="AppState.CredGA" expr="CredGA"/>
			<assign name="AppState.Crediservice" expr="Crediservice"/>
			<assign name="AppState.creditos" expr="creditos"/>
			<assign name="AppState.CtasAho" expr="CtasAho"/>
			<assign name="AppState.CtasCtes" expr="CtasCtes"/>
			<assign name="AppState.cuentaSaldos" expr="cuentaSaldos"/>
			<assign name="AppState.cuentasTotal" expr="cuentasTotal"/>
			<assign name="AppState.datoSeguro" expr="datoSeguro"/>
			<assign name="AppState.EncFid" expr="EncFid"/>
			<assign name="AppState.infoTCOtros" expr="infoTCOtros"/>
			<assign name="AppState.m_Ani" expr="m_Ani"/>
			<assign name="AppState.m_ColaVQ" expr="m_ColaVQ"/>
			<assign name="AppState.m_Fecha" expr="m_Fecha"/>
			<assign name="AppState.m_Identificacion" expr="m_Identificacion"/>
			<assign name="AppState.m_IdGvp" expr="m_IdGvp"/>
			<assign name="AppState.m_IdOrs" expr="m_IdOrs"/>
			<assign name="AppState.m_Movimiento" expr="m_Movimiento"/>
			<assign name="AppState.m_Nombre" expr="m_Nombre"/>
			<assign name="AppState.m_Opcion" expr="m_Opcion"/>
			<assign name="AppState.m_Origen" expr="m_Origen"/>
			<assign name="AppState.m_TipoId" expr="m_TipoId"/>
			<assign name="AppState.m_valorTRX" expr="m_valorTRX"/>
			<assign name="AppState.persona" expr="persona"/>
			<assign name="AppState.ProductId" expr="ProductId"/>
			<assign name="AppState.ProductNum" expr="ProductNum"/>
			<assign name="AppState.RPBloqueos" expr="RPBloqueos"/>
			<assign name="AppState.RPServicios" expr="RPServicios"/>
			<assign name="AppState.rutaAudios" expr="rutaAudios"/>
			<assign name="AppState.SafeEmail" expr="SafeEmail"/>
			<assign name="AppState.SafePhone" expr="SafePhone"/>
			<assign name="AppState.StatusCodeTI" expr="StatusCodeTI"/>
			<assign name="AppState.str_Main_numDoc" expr="str_Main_numDoc"/>
			<assign name="AppState.strNumCuentaSub" expr="strNumCuentaSub"/>
			<assign name="AppState.strSwToken" expr="strSwToken"/>
			<assign name="AppState.strTieneToken" expr="strTieneToken"/>
			<assign name="AppState.tarjetasCredito" expr="tarjetasCredito"/>
			<assign name="AppState.tipoCtaSaldos" expr="tipoCtaSaldos"/>
			<assign name="AppState.tramaSIP" expr="tramaSIP"/>
			<assign name="AppState.authOk" expr="authOk"/>
			<assign name="AppState.Auth4Dig" expr="Auth4Dig"/>
			<assign name="AppState.infoCreditos" expr="infoCreditos"/>
			<assign name="AppState.creditCant" expr="creditCant"/>
			<assign name="AppState.cantGABanco" expr="cantGABanco"/>
			<assign name="AppState.infoGABanco" expr="infoGABanco"/>
			<assign name="AppState.cantTC" expr="cantTC"/>
			<assign name="AppState.infoTC" expr="infoTC"/>
			<assign name="AppState.infoTCGA" expr="infoTCGA"/>
			<assign name="AppState.cantTCGA" expr="cantTCGA"/>
			<assign name="AppState.bills" expr="bills"/>
			<assign name="AppState.cantbills" expr="cantbills"/>
			<assign name="AppState.RPPreferente" expr="RPPreferente"/>
			<assign name="AppState.RPCafetero" expr="RPCafetero"/>
			<assign name="AppState.RPMesaCafetera" expr="RPMesaCafetera"/>
			<assign name="AppState.attxn_pan" expr="attxn_pan"/>
			<assign name="AppState.attxn_cajero" expr="attxn_cajero"/>
			<assign name="AppState.attxn_bin" expr="attxn_bin"/>
		</block>
		<block name="varAction">
			<if cond="varActionParentId==''">
				<log label="com.genesyslab.var.ActionStart" gvp:cond="AppState.EnableReports">Transacciones</log>
			<else/>
				<log label="com.genesyslab.var.ActionStart" gvp:cond="AppState.EnableReports">Transacciones|parentID=<value expr="varActionParentId"/></log>
			</if>
		</block>
		<block>
			<log expr="'Running Transacciones workflow.'"/>
			<log expr="'Code Generated by Composer: 8.1.450.08.'"/>
			<log expr="'Diagram created/upgraded by Composer: Composer 8.1.450.08.'"/>
			<log expr="'Project version: 8.1.450.08.'"/>
			<log expr="'Diagram version: 1.0 CreatedOn: .'"/>
			<goto next="#Tarjeta_pin_errado" />
		</block>
	</form>

	<!-- This is the Backend logic block -->
	<form id="LOG_Inicio_Flujo">

		<var name="AppStateString" expr="JSON.stringify(AppState)" />
    	<var name="tipo" expr="'0'" />
    	<var name="log" expr="' ---------- REGISTRO DATOS LLAMADA GVP:: BANCO DE BOGOTA SERVILINEA :: TRANSACCIONES ---------- ' + 
'\n AppState.ANI ----&gt; ' +AppState.ANI +
'\ Intentos Retorno-----&gt; ' + AppState.strIntentoCedula +
'\n strWsToken -----&gt; ' + AppState.strSwToken+
'\n EncFid -----&gt; ' + AppState.EncFid+
'\n cantEncFid -----&gt; ' + AppState.CantEncFid+
'\n authTD -----&gt; ' + AppState.authTD+
'\n Identificación -----&gt; ' + AppState.m_Identificacion+
'\n rutaAudios -----&gt; ' + AppState.rutaAudios +
'\n cafeteros -----&gt; ' + AppState.cafeteros +
'\n authOk -----&gt; ' + AppState.authOk +
'\n Auth4Dig -----&gt; ' + AppState.Auth4Dig +
'\n authTD -----&gt; ' + AppState.authTD +
'\n RPPreferente -----&gt; ' + AppState.RPPreferente +
'\n persona -----&gt; ' + AppState.persona +
'\n bills -----&gt; ' + AppState.bills +
'\n cantbills -----&gt; ' + AppState.cantbills +
'\n attxn_cajero -----&gt; ' + AppState.attxn_cajero +
'\n attxn_bin -----&gt; ' + AppState.attxn_bin +
'\n attxn_pan -----&gt; ' + AppState.attxn_pan +
'\n ---------- FIN REGISTRO LLAMADA ---------- '" />
    	<var name="idinteraccion" expr="AppState.CallUUID" />	
		<block>
			<data name="LOG_Inicio_FlujoData" src="../src/Jsp/LogID.jsp" method="post"  enctype="multipart/form-data"
				namelist="AppStateString tipo log idinteraccion" />
        	<if cond="typeof LOG_Inicio_FlujoData.errorMsg == 'undefined'">
        		<assign name="AppState.LOG_Inicio_FlujoResult" expr="LOG_Inicio_FlujoData" />
				<goto next="#Assign_VarNavegacion" />
        	<else/>
        		<throw event="error.com.genesyslab.composer.servererror" messageexpr="LOG_Inicio_FlujoData.errorMsg" />
        	</if>
		</block>
		
		<catch event="error.badfetch">
			<goto next="#Assign_VarNavegacion" />
    	</catch>
		<catch event="error.com.genesyslab.composer.servererror">
			<goto next="#Assign_VarNavegacion" />
    	</catch>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign_VarNavegacion">
		<block>
			
			<assign name="AppState.m_Opcion" expr="'Transacciones'" />			
			<log expr="'Assigning variable AppState.m_Opcion with value ' +'Transacciones'"/>
			<assign name="AppState.m_Movimiento" expr="'Inicio Transacciones'" />			
			<log expr="'Assigning variable AppState.m_Movimiento with value ' +'Inicio Transacciones'"/>				
			<goto next="#DB_InicioTransacc" />
		</block>
	</form>
	<!-- This is the Entry block -->
	<form id="Tarjeta_pin_errado">
		<block name="Entry">
			<goto next="#LOG_Inicio_Flujo" />
		</block>
	</form>	
	
	<catch event="connection.disconnect.hangup">
		<assign name="AppState.LAST_EVENT_ELEMENT" expr="_element"/>
    	<assign name="AppState.LAST_EVENT_MSG" expr="_message"/>
    	<assign name="AppState.LAST_EVENT_NAME" expr="_event"/>
    	<assign name="AppState.LAST_EVENT_LINE" expr="_line"/>
    	<assign name="AppState.LAST_EVENT_URL" expr="_url"/>
		<goto next="#BKN_Log_HU" />
    </catch>
	<catch event="connection.disconnect.transfer">
		<assign name="AppState.LAST_EVENT_ELEMENT" expr="_element"/>
    	<assign name="AppState.LAST_EVENT_MSG" expr="_message"/>
    	<assign name="AppState.LAST_EVENT_NAME" expr="_event"/>
    	<assign name="AppState.LAST_EVENT_LINE" expr="_line"/>
    	<assign name="AppState.LAST_EVENT_URL" expr="_url"/>
		<goto next="#BKN_Log_Transf" />
    </catch>
	<catch event="error">
		<assign name="AppState.LAST_EVENT_ELEMENT" expr="_element"/>
    	<assign name="AppState.LAST_EVENT_MSG" expr="_message"/>
    	<assign name="AppState.LAST_EVENT_NAME" expr="_event"/>
    	<assign name="AppState.LAST_EVENT_LINE" expr="_line"/>
    	<assign name="AppState.LAST_EVENT_URL" expr="_url"/>
		<goto next="#BKN_Log_Err" />
    </catch>
	<catch event=".">
		<assign name="AppState.LAST_EVENT_ELEMENT" expr="_element"/>
    	<assign name="AppState.LAST_EVENT_MSG" expr="_message"/>
    	<assign name="AppState.LAST_EVENT_NAME" expr="_event"/>
    	<assign name="AppState.LAST_EVENT_LINE" expr="_line"/>
    	<assign name="AppState.LAST_EVENT_URL" expr="_url"/>
		<goto next="#BKN_Log_Err" />
    </catch>    
    

	<!-- This is the Branching block -->
	<form id="Valida_RtaCRMM">
		<block>
			<if cond="AppState.claveSegura==1 || AppState.authTD==1">
				
				<!-- Post Action -->
				<script>try{
				AppState.m_Movimiento='Usuario autenticado'
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#DB_UsuarioAuth" />
			</if>
			<goto next="#As_ConsIncorre" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="As_ConsIncorre">
		<block>
			
			<assign name="AppState.m_Movimiento" expr="'Usuario no autenticado'" />			
			<log expr="'Assigning variable AppState.m_Movimiento with value ' +'Usuario no autenticado'"/>				
			<goto next="#DB_NoAuth" />
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Au_NoDisp">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + 'es-CO' + '/' + 'es-CO' + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = 'es-CO';
	            AppState.APP_ASR_LANGUAGE = 'es-CO';
	        </script>
        </block>
        
        
    	<block name="Au_NoDispP0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/3712.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#Disconnect1" />
    	</block>
	</form>

	<!-- This is the Disconnect block -->
	<form id="Disconnect1">
		<block>

			<disconnect />
    	</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Valida_EstadoToken">
		<block>
			<if cond="AppState.strSwToken=='N'">
				
				<!-- Post Action -->
				<script>try{
				AppState.m_Movimiento='Token N'
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#DB_TokenN" />
			</if>
			<if cond="AppState.strSwToken=='S' || AppState.strSwToken=='I' || AppState.strSwToken=='Asignado'">
				
				<!-- Post Action -->
				<script>try{
				AppState.m_Movimiento='Token Inactivo'
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#DB_TokenS" />
			</if>
			<if cond="AppState.strSwToken=='B' || AppState.strSwToken=='BloqueoA'">
				
				<!-- Post Action -->
				<script>try{
				AppState.m_Movimiento='Token Bloqueado'
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#DB_TokenB" />
			</if>
			<if cond="AppState.strSwToken=='A'">
				
				<!-- Post Action -->
				<script>try{
				AppState.m_Movimiento='Token Activo'
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#DB_TokenA" />
			</if>
			<goto next="#Assign_NoPodemosAtender" />
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Au_TokenInact">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + 'es-CO' + '/' + 'es-CO' + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = 'es-CO';
	            AppState.APP_ASR_LANGUAGE = 'es-CO';
	        </script>
        </block>
        
        
    	<block name="Au_TokenInactP0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/2953.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#MenuTransacciones" />
    	</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Au_TokenBloq">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + 'es-CO' + '/' + 'es-CO' + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = 'es-CO';
	            AppState.APP_ASR_LANGUAGE = 'es-CO';
	        </script>
        </block>
        
        
    	<block name="Au_TokenBloqP0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/2954.wav'"></audio>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1024.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#Disconnect2" />
    	</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Au_Despedida">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + 'es-CO' + '/' + 'es-CO' + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = 'es-CO';
	            AppState.APP_ASR_LANGUAGE = 'es-CO';
	        </script>
        </block>
        
        
    	<block name="Au_DespedidaP0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1023.wav'"></audio>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1024.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#Disconnect2" />
    	</block>
	</form>

	<!-- This is the Disconnect block -->
	<form id="Disconnect2">
		<block>

			<disconnect />
    	</block>
	</form>

	<!-- This is the Input block -->
	<form id="Ing_ClaveAleatoria">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + 'es-CO' + '/' + 'es-CO' + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = 'es-CO';
	            AppState.APP_ASR_LANGUAGE = 'es-CO';
	        </script>
        </block>
        
		<property name="inputmodes" value="dtmf" />
		<property name="bargein" value="true" />
		<block name="Ing_ClaveAleatoriaP0">
  			<prompt gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/2952.wav'"></audio>
    		</prompt>
		</block>
		
		
		<var name="retryCount" expr="1"/>
		
		<field name="Ing_ClaveAleatoriaField" type="digits?minlength=4;maxlength=15">
			<property name="interdigittimeout" value="10s"/>
			<property name="termchar" value="" /> 
			<property name="timeout" value="10s"/>
		</field>
    	<filled mode="all" namelist="Ing_ClaveAleatoriaField">
    		<assign name="AppState.clave" expr="Ing_ClaveAleatoriaField" />
	        <script>resetLanguage()</script>
    		<goto next="#As_ClaveAleat" />
    	</filled>
			
		<catch event="noinput" cond="retryCount == 1">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/2148.wav'"></audio>
  		</prompt>
  		<clear namelist="Ing_ClaveAleatoriaP0"/>
  		</catch>
			
		<catch event="nomatch" cond="retryCount == 1">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1037.wav'"></audio>
  		</prompt>
  		<clear namelist="Ing_ClaveAleatoriaP0"/>
  		</catch>
			
		<catch event="noinput" cond="retryCount == 2">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/2148.wav'"></audio>
  		</prompt>
  		<clear namelist="Ing_ClaveAleatoriaP0"/>
  		</catch>
			
		<catch event="nomatch" cond="retryCount == 2">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1037.wav'"></audio>
  		</prompt>
  		<clear namelist="Ing_ClaveAleatoriaP0"/>
  		</catch>
		<catch event="noinput"  cond="retryCount==3">
	        <script>resetLanguage()</script>
	  		<throw event="com.genesyslab.composer.toomanynoinputs" message="exceeded the number of noinput retries" />
	  	</catch>
		<catch event="nomatch"  cond="retryCount==3">
	        <script>resetLanguage()</script>
	  		<throw event="com.genesyslab.composer.toomanynomatches" message="exceeded the number of nomatch retries" />
	  	</catch>
		<catch event="com.genesyslab.composer.toomanynoinputs">
	        <script>resetLanguage()</script>
			<goto next="#DBData1" />
    	</catch>
		<catch event="com.genesyslab.composer.toomanynomatches">
	        <script>resetLanguage()</script>
			<goto next="#DBData2" />
    	</catch>
	</form>

	<!-- This is the Prompt block -->
	<form id="despedida_M1">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + 'es-CO' + '/' + 'es-CO' + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = 'es-CO';
	            AppState.APP_ASR_LANGUAGE = 'es-CO';
	        </script>
        </block>
        
        
    	<block name="despedida_M1P0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1024.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#log_M1" />
    	</block>
	</form>

	<!-- This is the Backend logic block -->
	<form id="log_M1">

		<var name="AppStateString" expr="JSON.stringify(AppState)" />
    	<var name="tipo" expr="'0'" />
    	<var name="log" expr="'\n log excepciones Menu_1_1_1 :: ---&gt;'+
'\n CallUUID :: ---&gt; ' + AppState.CallUUID+
'\n sub_chTipoIdentifica en sub callflow :: ---&gt; ' + AppState.sub_chTipoIdentifica+
'\n LAST_EVENT_ELEMENT :: ---&gt; ' +AppState.LAST_EVENT_ELEMENT+
'\n LAST_EVENT_LINE :: ---&gt; ' +AppState.LAST_EVENT_LINE+
'\n LAST_EVENT_MSG :: ---&gt; ' +AppState.LAST_EVENT_MSG+
'\n LAST_EVENT_NAME :: ---&gt; ' +AppState.LAST_EVENT_NAME+
'\n LAST_EVENT_URL :: ---&gt; ' +AppState.LAST_EVENT_URL" />
    	<var name="idinteraccion" expr="AppState.CallUUID" />	
		<block>
			<data name="log_M1Data" src="../src/Jsp/LogID.jsp" method="post"  enctype="multipart/form-data"
				namelist="AppStateString tipo log idinteraccion" />
        	<if cond="typeof log_M1Data.errorMsg == 'undefined'">
        		<assign name="AppState.log_M1Result" expr="log_M1Data" />
				<goto next="#DX_M1" />
        	<else/>
        		<throw event="error.com.genesyslab.composer.servererror" messageexpr="log_M1Data.errorMsg" />
        	</if>
		</block>
		
		<catch event="error.badfetch">
			<goto next="#DX_M1" />
    	</catch>
		<catch event="error.com.genesyslab.composer.servererror">
			<goto next="#DX_M1" />
    	</catch>
	</form>

	<!-- This is the Disconnect block -->
	<form id="DX_M1">
		<block>

			<disconnect />
    	</block>
	</form>

	<!-- This is the Assign block -->
	<form id="As_ClaveAleat">
		<block>
			
			<assign name="AppState.m_Movimiento" expr="'Usuario ingresa digitos de clave aleatoria'" />			
			<log expr="'Assigning variable AppState.m_Movimiento with value ' +'Usuario ingresa digitos de clave aleatoria'"/>
			<assign name="AppState.desRechazo" expr="''" />			
			<log expr="'Assigning variable AppState.desRechazo with value ' +''"/>
			<assign name="AppState.rtaRechazo" expr="''" />			
			<log expr="'Assigning variable AppState.rtaRechazo with value ' +''"/>				
			<goto next="#DB_ClaveAleatoria" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Val_IdMensaje">
		<block>
			<if cond="AppState.ChIdMensajeTs==1093">
				
				<!-- Post Action -->
				<script>try{
				AppState.m_Movimiento='Número de clave aleatoria inváido';
AppState.contador=AppState.contador+1;
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#DB_ClaveInv" />
			</if>
			<goto next="#As_ClaveVal" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="As_ClaveVal">
		<block>
			
			<assign name="AppState.m_Movimiento" expr="'Clave aleatoria válida'" />			
			<log expr="'Assigning variable AppState.m_Movimiento with value ' +'Clave aleatoria válida'"/>				
			<goto next="#DB_ClaveVal" />
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="Au_ClaveInv">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + 'es-CO' + '/' + 'es-CO' + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = 'es-CO';
	            AppState.APP_ASR_LANGUAGE = 'es-CO';
	        </script>
        </block>
        
        
    	<block name="Au_ClaveInvP0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/2955.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#Ing_ClaveAleatoria" />
    	</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Val_RespServicio">
		<block>
			<if cond="AppState.StatusCode==0">
				
				<!-- Post Action -->
				<script>try{
				AppState.m_Movimiento='Transacción TokenValidation exitosa';
AppState.sitioSeguro=AppState.SafePhone.substr(6)
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#DB_TransaExito" />
			</if>
			<if cond="AppState.StatusCode==''">
				
				<!-- This is the OutLink -->
				<goto next="#As_RtaIncor" />
			</if>
			<goto next="#As_RtaIncor" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="As_RtaIncor">
		<block>
			
			<assign name="AppState.m_Movimiento" expr="'Transacción TokenValidation no exitosa'" />			
			<log expr="'Assigning variable AppState.m_Movimiento with value ' +'Transacción TokenValidation no exitosa'"/>				
			<goto next="#DB_TransaNoExito" />
		</block>
	</form>

	<!-- This is the Menu block -->
	<form id="Menu_Continuar">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + 'es-CO' + '/' + 'es-CO' + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = 'es-CO';
	            AppState.APP_ASR_LANGUAGE = 'es-CO';
	        </script>
        </block>
        
		<property name="termchar" value="D"/>
		<property name="inputmodes" value="dtmf" />
		<property name="bargein" value="true" />
		<block name="Menu_ContinuarP0">
  			<prompt gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/2956.wav'"></audio>
				<foreach item="thePrompt" array="PlayPromptSwitch(AppState.APP_LANGUAGE, AppState.VOXFILEDIR, AppState.datoSeguro, 'alphanumeric')">
					<audio expr="thePrompt" />
				</foreach>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/2957.wav'"></audio>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/2958.wav'"></audio>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1027.wav'"></audio>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1007.wav'"></audio>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1028.wav'"></audio>
    		</prompt>
		</block>
		
		<var name="retryCount" expr="1"/>
		<field name="Menu_ContinuarOption">
			<property name="timeout" value="10s"/>
			<option dtmf="1" value="1" />
			<option dtmf="2" value="2" />
  		</field>
		<filled mode="all" namelist="Menu_ContinuarOption">
		<assign name="AppState.temporal" expr="Menu_ContinuarOption" />
			<if cond="Menu_ContinuarOption == '1'">
	        <script>resetLanguage()</script>
            
				<!-- Post Action -->
				<script>try{
				AppState.m_Movimiento='1. Continuar proceso'
				}
				catch(err){}
				
				</script>
			
				<goto next="#DB_Continuar" />
			</if>
			<if cond="Menu_ContinuarOption == '2'">
	        <script>resetLanguage()</script>
            
				<!-- Post Action -->
				<script>try{
				AppState.m_Movimiento='2. No continuar proceso'
				}
				catch(err){}
				
				</script>
			
				<goto next="#DB_NoContinuar" />
			</if>
		</filled>
			
		<catch event="noinput" cond="retryCount == 1">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/2148.wav'"></audio>
  		</prompt>
  		<clear namelist="Menu_ContinuarP0"/>
  		</catch>
			
		<catch event="nomatch" cond="retryCount == 1">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1037.wav'"></audio>
  		</prompt>
  		<clear namelist="Menu_ContinuarP0"/>
  		</catch>
			
		<catch event="noinput" cond="retryCount == 2">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/2148.wav'"></audio>
  		</prompt>
  		<clear namelist="Menu_ContinuarP0"/>
  		</catch>
			
		<catch event="nomatch" cond="retryCount == 2">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1037.wav'"></audio>
  		</prompt>
  		<clear namelist="Menu_ContinuarP0"/>
  		</catch>
		<catch event="noinput"  cond="retryCount==3">
	        <script>resetLanguage()</script>
	  		<throw event="com.genesyslab.composer.toomanynoinputs" message="exceeded the number of noinput retries" />
	  	</catch>
		<catch event="nomatch"  cond="retryCount==3">
	        <script>resetLanguage()</script>
	  		<throw event="com.genesyslab.composer.toomanynomatches" message="exceeded the number of nomatch retries" />
	  	</catch>
		<catch event="com.genesyslab.composer.toomanynoinputs">
	        <script>resetLanguage()</script>
			<goto next="#DBData1" />
    	</catch>
		<catch event="com.genesyslab.composer.toomanynomatches">
	        <script>resetLanguage()</script>
			<goto next="#DBData2" />
    	</catch>
	</form>

	<!-- This is the Menu block -->
	<form id="MenuTransacciones">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + 'es-CO' + '/' + 'es-CO' + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = 'es-CO';
	            AppState.APP_ASR_LANGUAGE = 'es-CO';
	        </script>
        </block>
        
		<property name="termchar" value="D"/>
		<property name="inputmodes" value="dtmf" />
		<property name="bargein" value="true" />
		<block name="MenuTransaccionesP0">
  			<prompt gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/2871.wav'"></audio>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1027.wav'"></audio>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1053.wav'"></audio>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1028.wav'"></audio>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/3432.wav'"></audio>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1029.wav'"></audio>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/3018.wav'"></audio>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1030.wav'"></audio>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/3131.wav'"></audio>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1034.wav'"></audio>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1952.wav'"></audio>
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1035.wav'"></audio>
    		</prompt>
		</block>
		
		<var name="retryCount" expr="1"/>
		<field name="MenuTransaccionesOption">
			<property name="timeout" value="10s"/>
			<option dtmf="1" value="1" />
			<option dtmf="2" value="2" />
			<option dtmf="3" value="3" />
			<option dtmf="4" value="4" />
			<option dtmf="8" value="8" />
			<option dtmf="9" value="9" />
  		</field>
		<filled mode="all" namelist="MenuTransaccionesOption">
		<assign name="AppState.temporal" expr="MenuTransaccionesOption" />
			<if cond="MenuTransaccionesOption == '1'">
	        <script>resetLanguage()</script>
            
				<!-- Post Action -->
				<script>try{
				AppState.m_Movimiento='1. Consulta de saldo'
				}
				catch(err){}
				
				</script>
			
				<goto next="#DB_Saldos" />
			</if>
			<if cond="MenuTransaccionesOption == '2'">
	        <script>resetLanguage()</script>
            
				<!-- Post Action -->
				<script>try{
				AppState.m_Movimiento='2. Pagos'
				}
				catch(err){}
				
				</script>
			
				<goto next="#DB_Pagos" />
			</if>
			<if cond="MenuTransaccionesOption == '3'">
	        <script>resetLanguage()</script>
            
				<!-- Post Action -->
				<script>try{
				AppState.m_Movimiento='3. Avances Tarjetas Usos de Cupo Adelanto nómina'
				}
				catch(err){}
				
				</script>
			
				<goto next="#DB_AvanceTransfer" />
			</if>
			<if cond="MenuTransaccionesOption == '4'">
	        <script>resetLanguage()</script>
            
				<!-- Post Action -->
				<script>try{
				AppState.m_Movimiento='4. Recarga de celulares'
				}
				catch(err){}
				
				</script>
			
				<goto next="#DB_Recargas" />
			</if>
			<if cond="MenuTransaccionesOption == '8'">
	        <script>resetLanguage()</script>
            
				<!-- Post Action -->
				<script>try{
				AppState.m_Movimiento='8. Repetir menú'
				}
				catch(err){}
				
				</script>
			
				<goto next="#DB_RepetirMe" />
			</if>
			<if cond="MenuTransaccionesOption == '9'">
	        <script>resetLanguage()</script>
            
				<!-- Post Action -->
				<script>try{
				AppState.m_Movimiento='9. Menú anterior';
AppState.menuAnt='Transacciones';
				}
				catch(err){}
				
				</script>
			
				<goto next="#Copy_1_DB_RepetirMe" />
			</if>
		</filled>
			
		<catch event="noinput" cond="retryCount == 1">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/2148.wav'"></audio>
  		</prompt>
  		<clear namelist="MenuTransaccionesP0"/>
  		</catch>
			
		<catch event="nomatch" cond="retryCount == 1">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1037.wav'"></audio>
  		</prompt>
  		<clear namelist="MenuTransaccionesP0"/>
  		</catch>
			
		<catch event="noinput" cond="retryCount == 2">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/2148.wav'"></audio>
  		</prompt>
  		<clear namelist="MenuTransaccionesP0"/>
  		</catch>
			
		<catch event="nomatch" cond="retryCount == 2">
		<assign name="retryCount" expr="retryCount + 1"/>
		<prompt bargein="true" gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1037.wav'"></audio>
  		</prompt>
  		<clear namelist="MenuTransaccionesP0"/>
  		</catch>
		<catch event="noinput"  cond="retryCount==3">
	        <script>resetLanguage()</script>
	  		<throw event="com.genesyslab.composer.toomanynoinputs" message="exceeded the number of noinput retries" />
	  	</catch>
		<catch event="nomatch"  cond="retryCount==3">
	        <script>resetLanguage()</script>
	  		<throw event="com.genesyslab.composer.toomanynomatches" message="exceeded the number of nomatch retries" />
	  	</catch>
		<catch event="com.genesyslab.composer.toomanynoinputs">
	        <script>resetLanguage()</script>
			<goto next="#DBData1" />
    	</catch>
		<catch event="com.genesyslab.composer.toomanynomatches">
	        <script>resetLanguage()</script>
			<goto next="#DBData2" />
    	</catch>
	</form>

	<!-- This is the Subdialog block -->
	<form id="Saldos">

		<subdialog name="SaldosSubdialog" fetchhint="prefetch"  src="../src-gen/Saldos.vxml">
    		<param name="varActionParentId" expr="'Transacciones'"/>
			<param name="ADN" expr="AppState.ADN" />
			<param name="ActualizaDatos" expr="AppState.ActualizaDatos" />
			<param name="CantEncFid" expr="AppState.CantEncFid" />
			<param name="CredGA" expr="AppState.CredGA" />
			<param name="Crediservice" expr="AppState.Crediservice" />
			<param name="CtasAho" expr="AppState.CtasAho" />
			<param name="CtasCtes" expr="AppState.CtasCtes" />
			<param name="EncFid" expr="AppState.EncFid" />
			<param name="ProductId" expr="AppState.ProductId" />
			<param name="ProductNum" expr="AppState.ProductNum" />
			<param name="RPPreferente" expr="AppState.RPPreferente" />
			<param name="RPServicios" expr="AppState.RPServicios" />
			<param name="SafeEmail" expr="AppState.SafeEmail" />
			<param name="SafePhone" expr="AppState.SafePhone" />
			<param name="StatusCodeTI" expr="AppState.StatusCodeTI" />
			<param name="bills" expr="AppState.bills" />
			<param name="bloqueoPINErrado" expr="AppState.bloqueoPINErrado" />
			<param name="cantADN" expr="AppState.cantADN" />
			<param name="cantCardeb" expr="AppState.cantCardeb" />
			<param name="cantCdts" expr="AppState.cantCdts" />
			<param name="cantCredGA" expr="AppState.cantCredGA" />
			<param name="cantCrediservice" expr="AppState.cantCrediservice" />
			<param name="cantCreditos" expr="AppState.cantCreditos" />
			<param name="cantCtasAho" expr="AppState.cantCtasAho" />
			<param name="cantCtasCtes" expr="AppState.cantCtasCtes" />
			<param name="cantCuentasTotal" expr="AppState.cantCuentasTotal" />
			<param name="cantGABanco" expr="AppState.cantGABanco" />
			<param name="cantProductos" expr="''" />
			<param name="cantTC" expr="AppState.cantTC" />
			<param name="cantTCGA" expr="AppState.cantTCGA" />
			<param name="cantTCOtros" expr="AppState.cantTCOtros" />
			<param name="cantTarjetasCredito" expr="AppState.cantTarjetasCredito" />
			<param name="cantbills" expr="AppState.cantbills" />
			<param name="cardeb" expr="AppState.cardeb" />
			<param name="cdts" expr="AppState.cdts" />
			<param name="claveSegura" expr="AppState.claveSegura" />
			<param name="connid" expr="AppState.connid" />
			<param name="creditCant" expr="AppState.creditCant" />
			<param name="creditos" expr="AppState.creditos" />
			<param name="cuentaSaldos" expr="AppState.cuentaSaldos" />
			<param name="cuentasTotal" expr="AppState.cuentasTotal" />
			<param name="datoSeguro" expr="AppState.datoSeguro" />
			<param name="infoCreditos" expr="AppState.infoCreditos" />
			<param name="infoGABanco" expr="AppState.infoGABanco" />
			<param name="infoTC" expr="AppState.infoTC" />
			<param name="infoTCGA" expr="AppState.infoTCGA" />
			<param name="infoTCOtros" expr="AppState.infoTCOtros" />
			<param name="m_Ani" expr="AppState.m_Ani" />
			<param name="m_ColaVQ" expr="AppState.m_ColaVQ" />
			<param name="m_Fecha" expr="AppState.m_Fecha" />
			<param name="m_IdGvp" expr="AppState.m_IdGvp" />
			<param name="m_IdOrs" expr="AppState.m_IdOrs" />
			<param name="m_Identificacion" expr="AppState.m_Identificacion" />
			<param name="m_Movimiento" expr="AppState.m_Movimiento" />
			<param name="m_Nombre" expr="AppState.m_Nombre" />
			<param name="m_Opcion" expr="AppState.m_Opcion" />
			<param name="m_Origen" expr="AppState.m_Origen" />
			<param name="m_TipoId" expr="AppState.m_TipoId" />
			<param name="m_valorTRX" expr="AppState.m_valorTRX" />
			<param name="persona" expr="AppState.persona" />
			<param name="rutaAudios" expr="AppState.rutaAudios" />
			<param name="strIntentoCedula" expr="AppState.strIntentoCedula" />
			<param name="strNumeroCuenta" expr="AppState.m_Identificacion" />
			<param name="strSwToken" expr="AppState.strSwToken" />
			<param name="strTieneToken" expr="AppState.strTieneToken" />
			<param name="str_Main_numDoc" expr="AppState.m_Identificacion" />
			<param name="tarjetasCredito" expr="AppState.tarjetasCredito" />
			<param name="tipoCtaSaldos" expr="AppState.tipoCtaSaldos" />
			<param name="tramaSIP" expr="AppState.tramaSIP" />
			<param name="Auth4Dig" expr="AppState.Auth4Dig" />
			<param name="attxn_cajero" expr="AppState.attxn_cajero" />
			<param name="authOk" expr="AppState.authOk" />
			<param name="authTD" expr="AppState.authTD" />
			<filled>
				<if cond="SaldosSubdialog.Auth4Dig != 'undefined'">
  					<assign name="AppState.Auth4Dig" expr="SaldosSubdialog.Auth4Dig" /> 
  				</if>
				<if cond="SaldosSubdialog.attxn_cajero != 'undefined'">
  					<assign name="AppState.attxn_cajero" expr="SaldosSubdialog.attxn_cajero" /> 
  				</if>
				<if cond="SaldosSubdialog.authOk != 'undefined'">
  					<assign name="AppState.authOk" expr="SaldosSubdialog.authOk" /> 
  				</if>
				<if cond="SaldosSubdialog.authTD != 'undefined'">
  					<assign name="AppState.authTD" expr="SaldosSubdialog.authTD" /> 
  				</if>
				<if cond="SaldosSubdialog.menuAnt != 'undefined'">
  					<assign name="AppState.menuAnt" expr="SaldosSubdialog.menuAnt" /> 
  				</if>
				<goto next="#Val_MenuAnt" />
			</filled>
		</subdialog>
		
	</form>

	<!-- This is the Exit block -->
	<form id="Exit2">
		<block>
			<log label="com.genesyslab.var.ActionEnd" gvp:cond="AppState.EnableReports">Transacciones|UNKNOWN</log>
			<var name="authTD" expr="AppState.authTD"/>
			<var name="menuAnt" expr="AppState.menuAnt"/>
			<var name="authOk" expr="AppState.authOk"/>
			<var name="Auth4Dig" expr="AppState.Auth4Dig"/>
			<var name="attxn_pan" expr="AppState.attxn_pan"/>
			<var name="attxn_cajero" expr="AppState.attxn_cajero"/>
			<var name="attxn_bin" expr="AppState.attxn_bin"/>
			<return namelist="authTD menuAnt authOk Auth4Dig attxn_pan attxn_cajero attxn_bin"/>
  		</block>
	</form>

	<!-- This is the Subdialog block -->
	<form id="Pagos">

		<subdialog name="PagosSubdialog" fetchhint="prefetch"  src="../src-gen/Pagos.vxml">
    		<param name="varActionParentId" expr="'Transacciones'"/>
			<param name="ADN" expr="AppState.ADN" />
			<param name="ActualizaDatos" expr="AppState.ActualizaDatos" />
			<param name="CredGA" expr="AppState.CredGA" />
			<param name="Crediservice" expr="AppState.Crediservice" />
			<param name="CtasAho" expr="AppState.CtasAho" />
			<param name="CtasCtes" expr="AppState.CtasCtes" />
			<param name="EncFid" expr="AppState.EncFid" />
			<param name="ProductId" expr="AppState.ProductId" />
			<param name="ProductNum" expr="AppState.ProductNum" />
			<param name="RPPreferente" expr="AppState.RPPreferente" />
			<param name="RPServicios" expr="AppState.RPServicios" />
			<param name="SafeEmail" expr="AppState.SafeEmail" />
			<param name="SafePhone" expr="AppState.SafePhone" />
			<param name="StatusCodeTI" expr="AppState.StatusCodeTI" />
			<param name="bills" expr="AppState.bills" />
			<param name="bloqueoPINErrado" expr="AppState.bloqueoPINErrado" />
			<param name="cantADN" expr="AppState.cantADN" />
			<param name="cantCardeb" expr="AppState.cantCardeb" />
			<param name="cantCdts" expr="AppState.cantCdts" />
			<param name="cantCredGA" expr="AppState.cantCredGA" />
			<param name="cantCrediservice" expr="AppState.cantCrediservice" />
			<param name="cantCreditos" expr="AppState.cantCreditos" />
			<param name="cantCtasAho" expr="AppState.cantCtasAho" />
			<param name="cantCtasCtes" expr="AppState.cantCtasCtes" />
			<param name="cantCuentasTotal" expr="AppState.cantCuentasTotal" />
			<param name="cantEncFid" expr="AppState.CantEncFid" />
			<param name="cantGABanco" expr="AppState.cantGABanco" />
			<param name="cantTC" expr="AppState.cantTC" />
			<param name="cantTCGA" expr="AppState.cantTCGA" />
			<param name="cantTCOtros" expr="AppState.cantTCOtros" />
			<param name="cantTarjetasCredito" expr="AppState.cantTarjetasCredito" />
			<param name="cantbills" expr="AppState.cantbills" />
			<param name="cardeb" expr="AppState.cardeb" />
			<param name="cdts" expr="AppState.cdts" />
			<param name="claveSegura" expr="AppState.claveSegura" />
			<param name="connid" expr="AppState.connid" />
			<param name="creditCant" expr="AppState.creditCant" />
			<param name="creditos" expr="AppState.creditos" />
			<param name="cuentaSaldos" expr="AppState.cuentaSaldos" />
			<param name="cuentasTotal" expr="AppState.cuentasTotal" />
			<param name="infoCreditos" expr="AppState.infoCreditos" />
			<param name="infoGABanco" expr="AppState.infoGABanco" />
			<param name="infoTC" expr="AppState.infoTC" />
			<param name="infoTCGA" expr="AppState.infoTCGA" />
			<param name="infoTCOtros" expr="AppState.infoTCOtros" />
			<param name="m_Ani" expr="AppState.m_Ani" />
			<param name="m_ColaVQ" expr="AppState.m_ColaVQ" />
			<param name="m_Fecha" expr="AppState.m_Fecha" />
			<param name="m_IdGvp" expr="AppState.m_IdGvp" />
			<param name="m_IdOrs" expr="AppState.m_IdOrs" />
			<param name="m_Identificacion" expr="AppState.m_Identificacion" />
			<param name="m_Movimiento" expr="AppState.m_Movimiento" />
			<param name="m_Nombre" expr="AppState.m_Nombre" />
			<param name="m_Opcion" expr="AppState.m_Opcion" />
			<param name="m_Origen" expr="AppState.m_Origen" />
			<param name="m_TipoId" expr="AppState.m_TipoId" />
			<param name="m_valorTRX" expr="AppState.m_valorTRX" />
			<param name="persona" expr="AppState.persona" />
			<param name="rutaAudios" expr="AppState.rutaAudios" />
			<param name="strIntentoCedula" expr="AppState.strIntentoCedula" />
			<param name="strNumeroCuenta" expr="AppState.m_Identificacion" />
			<param name="strSwToken" expr="AppState.strSwToken" />
			<param name="strTieneToken" expr="AppState.strTieneToken" />
			<param name="str_Main_numDoc" expr="AppState.str_Main_numDoc" />
			<param name="tarjetasCredito" expr="AppState.tarjetasCredito" />
			<param name="tipoCtaSaldos" expr="AppState.tipoCtaSaldos" />
			<param name="tramaSIP" expr="AppState.tramaSIP" />
			<param name="Auth4Dig" expr="AppState.Auth4Dig" />
			<param name="attxn_bin" expr="AppState.attxn_bin" />
			<param name="attxn_cajero" expr="AppState.attxn_cajero" />
			<param name="attxn_pan" expr="AppState.attxn_pan" />
			<param name="authOk" expr="AppState.authOk" />
			<param name="authTD" expr="AppState.authTD" />
			<filled>
				<if cond="PagosSubdialog.Auth4Dig != 'undefined'">
  					<assign name="AppState.Auth4Dig" expr="PagosSubdialog.Auth4Dig" /> 
  				</if>
				<if cond="PagosSubdialog.attxn_bin != 'undefined'">
  					<assign name="AppState.attxn_bin" expr="PagosSubdialog.attxn_bin" /> 
  				</if>
				<if cond="PagosSubdialog.attxn_cajero != 'undefined'">
  					<assign name="AppState.attxn_cajero" expr="PagosSubdialog.attxn_cajero" /> 
  				</if>
				<if cond="PagosSubdialog.attxn_pan != 'undefined'">
  					<assign name="AppState.attxn_pan" expr="PagosSubdialog.attxn_pan" /> 
  				</if>
				<if cond="PagosSubdialog.authOk != 'undefined'">
  					<assign name="AppState.authOk" expr="PagosSubdialog.authOk" /> 
  				</if>
				<if cond="PagosSubdialog.authTD != 'undefined'">
  					<assign name="AppState.authTD" expr="PagosSubdialog.authTD" /> 
  				</if>
				<if cond="PagosSubdialog.menuAnt != 'undefined'">
  					<assign name="AppState.menuAnt" expr="PagosSubdialog.menuAnt" /> 
  				</if>
				<goto next="#Val_MenuAnt" />
			</filled>
		</subdialog>
		
	</form>

	<!-- This is the Subdialog block -->
	<form id="Transferencias">

		<subdialog name="TransferenciasSubdialog" fetchhint="prefetch"  src="../src-gen/Transferencias.vxml">
    		<param name="varActionParentId" expr="'Transacciones'"/>
			<param name="ADN" expr="AppState.ADN" />
			<param name="ActualizaDatos" expr="AppState.ActualizaDatos" />
			<param name="CantEncFid" expr="AppState.CantEncFid" />
			<param name="CredGA" expr="AppState.CredGA" />
			<param name="Crediservice" expr="AppState.Crediservice" />
			<param name="CtasAho" expr="AppState.CtasAho" />
			<param name="CtasCtes" expr="AppState.CtasCtes" />
			<param name="EncFid" expr="AppState.EncFid" />
			<param name="ProductId" expr="AppState.ProductId" />
			<param name="ProductNum" expr="AppState.ProductNum" />
			<param name="RPPreferente" expr="AppState.RPPreferente" />
			<param name="RPServicios" expr="AppState.RPServicios" />
			<param name="SafeEmail" expr="AppState.SafeEmail" />
			<param name="SafePhone" expr="AppState.SafePhone" />
			<param name="StatusCodeTI" expr="AppState.StatusCodeTI" />
			<param name="bloqueoPINErrado" expr="AppState.bloqueoPINErrado" />
			<param name="cantADN" expr="AppState.cantADN" />
			<param name="cantCardeb" expr="AppState.cantCardeb" />
			<param name="cantCdts" expr="AppState.cantCdts" />
			<param name="cantCredGA" expr="AppState.cantCredGA" />
			<param name="cantCrediservice" expr="AppState.cantCrediservice" />
			<param name="cantCreditos" expr="AppState.cantCreditos" />
			<param name="cantCtasAho" expr="AppState.cantCtasAho" />
			<param name="cantCtasCtes" expr="AppState.cantCtasCtes" />
			<param name="cantCuentasTotal" expr="AppState.cantCuentasTotal" />
			<param name="cantTCotros" expr="AppState.cantTCOtros" />
			<param name="cantTarjetasCredito" expr="AppState.cantTarjetasCredito" />
			<param name="cardeb" expr="AppState.cardeb" />
			<param name="cdts" expr="AppState.cdts" />
			<param name="claveSegura" expr="AppState.claveSegura" />
			<param name="connid" expr="AppState.connid" />
			<param name="creditos" expr="AppState.creditos" />
			<param name="cuentaSaldos" expr="AppState.cuentaSaldos" />
			<param name="cuentasTotal" expr="AppState.cuentasTotal" />
			<param name="datoSeguro" expr="AppState.datoSeguro" />
			<param name="infoTCOtros" expr="AppState.infoTCOtros" />
			<param name="m_Ani" expr="AppState.m_Ani" />
			<param name="m_ColaVQ" expr="AppState.m_ColaVQ" />
			<param name="m_Fecha" expr="AppState.m_Fecha" />
			<param name="m_IdGvp" expr="AppState.m_IdGvp" />
			<param name="m_IdOrs" expr="AppState.m_IdOrs" />
			<param name="m_Identificacion" expr="AppState.m_Identificacion" />
			<param name="m_Movimiento" expr="AppState.m_Movimiento" />
			<param name="m_Nombre" expr="AppState.m_Nombre" />
			<param name="m_Opcion" expr="AppState.m_Opcion" />
			<param name="m_Origen" expr="AppState.m_Origen" />
			<param name="m_TipoId" expr="AppState.m_TipoId" />
			<param name="m_valorTRX" expr="AppState.m_valorTRX" />
			<param name="persona" expr="AppState.persona" />
			<param name="rutaAudios" expr="AppState.rutaAudios" />
			<param name="strIntentoCedula" expr="AppState.strIntentoCedula" />
			<param name="strNumeroCuenta" expr="AppState.m_Identificacion" />
			<param name="strSwToken" expr="AppState.strSwToken" />
			<param name="strTieneToken" expr="AppState.strTieneToken" />
			<param name="str_Main_numDoc" expr="AppState.str_Main_numDoc" />
			<param name="tarjetasCredito" expr="AppState.tarjetasCredito" />
			<param name="tipoCtaSaldos" expr="AppState.tipoCtaSaldos" />
			<param name="tramaSIP" expr="AppState.tramaSIP" />
			<param name="Auth4Dig" expr="AppState.Auth4Dig" />
			<param name="attxn_bin" expr="AppState.attxn_bin" />
			<param name="attxn_cajero" expr="AppState.attxn_cajero" />
			<param name="attxn_pan" expr="AppState.attxn_pan" />
			<param name="authOk" expr="AppState.authOk" />
			<param name="authTD" expr="AppState.authTD" />
			<filled>
				<if cond="TransferenciasSubdialog.Auth4Dig != 'undefined'">
  					<assign name="AppState.Auth4Dig" expr="TransferenciasSubdialog.Auth4Dig" /> 
  				</if>
				<if cond="TransferenciasSubdialog.attxn_bin != 'undefined'">
  					<assign name="AppState.attxn_bin" expr="TransferenciasSubdialog.attxn_bin" /> 
  				</if>
				<if cond="TransferenciasSubdialog.attxn_cajero != 'undefined'">
  					<assign name="AppState.attxn_cajero" expr="TransferenciasSubdialog.attxn_cajero" /> 
  				</if>
				<if cond="TransferenciasSubdialog.attxn_pan != 'undefined'">
  					<assign name="AppState.attxn_pan" expr="TransferenciasSubdialog.attxn_pan" /> 
  				</if>
				<if cond="TransferenciasSubdialog.authOk != 'undefined'">
  					<assign name="AppState.authOk" expr="TransferenciasSubdialog.authOk" /> 
  				</if>
				<if cond="TransferenciasSubdialog.authTD != 'undefined'">
  					<assign name="AppState.authTD" expr="TransferenciasSubdialog.authTD" /> 
  				</if>
				<if cond="TransferenciasSubdialog.menuAnt != 'undefined'">
  					<assign name="AppState.menuAnt" expr="TransferenciasSubdialog.menuAnt" /> 
  				</if>
				<goto next="#Val_MenuAnt" />
			</filled>
		</subdialog>
		
	</form>

	<!-- This is the Subdialog block -->
	<form id="Recargas">

		<subdialog name="RecargasSubdialog" fetchhint="prefetch"  src="../src-gen/Recargas.vxml">
    		<param name="varActionParentId" expr="'Transacciones'"/>
			<param name="ActualizaDatos" expr="AppState.ActualizaDatos" />
			<param name="CtasAho" expr="AppState.CtasAho" />
			<param name="CtasCtes" expr="AppState.CtasCtes" />
			<param name="ProductId" expr="AppState.ProductId" />
			<param name="ProductNum" expr="AppState.ProductNum" />
			<param name="RPBloqueos" expr="AppState.RPBloqueos" />
			<param name="RPCafetero" expr="AppState.RPCafetero" />
			<param name="RPMesaCafetera" expr="AppState.RPMesaCafetera" />
			<param name="RPPreferente" expr="AppState.RPPreferente" />
			<param name="RPServicios" expr="AppState.RPServicios" />
			<param name="SafeEmail" expr="AppState.SafeEmail" />
			<param name="SafePhone" expr="AppState.SafePhone" />
			<param name="StatusCodeTI" expr="AppState.StatusCodeTI" />
			<param name="attxn_pan" expr="AppState.attxn_pan" />
			<param name="bloqueoPINErrado" expr="AppState.bloqueoPINErrado" />
			<param name="cafeteros" expr="''" />
			<param name="cantADN" expr="AppState.cantADN" />
			<param name="cantCardeb" expr="AppState.cantCardeb" />
			<param name="cantCdts" expr="AppState.cantCdts" />
			<param name="cantCreditos" expr="AppState.cantCreditos" />
			<param name="cantCtasAho" expr="AppState.cantCtasAho" />
			<param name="cantCtasCtes" expr="AppState.cantCtasCtes" />
			<param name="cantEncFid" expr="AppState.CantEncFid" />
			<param name="cantTarjetasCredito" expr="AppState.cantTarjetasCredito" />
			<param name="cardeb" expr="AppState.cardeb" />
			<param name="claveSegura" expr="AppState.claveSegura" />
			<param name="connid" expr="AppState.connid" />
			<param name="datoSeguro" expr="AppState.datoSeguro" />
			<param name="m_Ani" expr="AppState.m_Ani" />
			<param name="m_ColaVQ" expr="AppState.m_ColaVQ" />
			<param name="m_Fecha" expr="AppState.m_Fecha" />
			<param name="m_IdGvp" expr="AppState.m_IdGvp" />
			<param name="m_IdOrs" expr="AppState.m_IdOrs" />
			<param name="m_Identificacion" expr="AppState.m_Identificacion" />
			<param name="m_Movimiento" expr="AppState.m_Movimiento" />
			<param name="m_Nombre" expr="AppState.m_Nombre" />
			<param name="m_Opcion" expr="AppState.m_Opcion" />
			<param name="m_Origen" expr="AppState.m_Origen" />
			<param name="m_TipoId" expr="AppState.m_TipoId" />
			<param name="m_valorTRX" expr="AppState.m_valorTRX" />
			<param name="persona" expr="AppState.persona" />
			<param name="rutaAudios" expr="AppState.rutaAudios" />
			<param name="strNumCuentaSub" expr="AppState.strNumCuentaSub" />
			<param name="strSwToken" expr="AppState.strSwToken" />
			<param name="str_Main_numDoc" expr="AppState.str_Main_numDoc" />
			<param name="tramaSIP" expr="AppState.tramaSIP" />
			<param name="Auth4Dig" expr="AppState.Auth4Dig" />
			<param name="attxn_cajero" expr="AppState.attxn_cajero" />
			<param name="authOk" expr="AppState.authOk" />
			<param name="authTD" expr="AppState.authTD" />
			<filled>
				<if cond="RecargasSubdialog.Auth4Dig != 'undefined'">
  					<assign name="AppState.Auth4Dig" expr="RecargasSubdialog.Auth4Dig" /> 
  				</if>
				<if cond="RecargasSubdialog.attxn_cajero != 'undefined'">
  					<assign name="AppState.attxn_cajero" expr="RecargasSubdialog.attxn_cajero" /> 
  				</if>
				<if cond="RecargasSubdialog.authOk != 'undefined'">
  					<assign name="AppState.authOk" expr="RecargasSubdialog.authOk" /> 
  				</if>
				<if cond="RecargasSubdialog.authTD != 'undefined'">
  					<assign name="AppState.authTD" expr="RecargasSubdialog.authTD" /> 
  				</if>
				<if cond="RecargasSubdialog.menuAnt != 'undefined'">
  					<assign name="AppState.menuAnt" expr="RecargasSubdialog.menuAnt" /> 
  				</if>
				<goto next="#Val_MenuAnt" />
			</filled>
		</subdialog>
		
	</form>

	<!-- This is the Backend logic block -->
	<form id="Consume_ValToken">

		<var name="AppStateString" expr="JSON.stringify(AppState)" />
    	<var name="idinteraccion" expr="AppState.connid" />
    	<var name="m_Identificacion" expr="AppState.m_Identificacion" />
    	<var name="m_TipoId" expr="AppState.m_TipoId" />
    	<var name="Productid" expr="AppState.ProductId" />
    	<var name="ProductNum" expr="AppState.ProductNum" />
    	<var name="OTP" expr="AppState.clave" />	
		<block>
			<data name="Consume_ValTokenData" src="../src/Jsp/ReqPostTokenValidation.jsp" method="post"  enctype="multipart/form-data"
				namelist="AppStateString idinteraccion m_Identificacion m_TipoId Productid ProductNum OTP" />
        	<if cond="typeof Consume_ValTokenData.errorMsg == 'undefined'">
        		<assign name="AppState.Consume_ValTokenResult" expr="Consume_ValTokenData" />
            	<if cond="typeof AppState.Consume_ValTokenResult.StatusDesc != 'undefined'">
            		<assign name="AppState.StatusDesc" expr="AppState.Consume_ValTokenResult.StatusDesc" />
            	</if>
            	<if cond="typeof AppState.Consume_ValTokenResult.StatusCode != 'undefined'">
            		<assign name="AppState.StatusCode" expr="AppState.Consume_ValTokenResult.StatusCode" />
            	</if>
            	<if cond="typeof AppState.Consume_ValTokenResult.ChBytesEstadoResp != 'undefined'">
            		<assign name="AppState.ChBytesEstadoResp" expr="AppState.Consume_ValTokenResult.ChBytesEstadoResp" />
            	</if>
            	<if cond="typeof AppState.Consume_ValTokenResult.ChIdMensajeTs != 'undefined'">
            		<assign name="AppState.ChIdMensajeTs" expr="AppState.Consume_ValTokenResult.ChIdMensajeTs" />
            	</if>
            	<if cond="typeof AppState.Consume_ValTokenResult.datoSeguro != 'undefined'">
            		<assign name="AppState.datoSeguro" expr="AppState.Consume_ValTokenResult.datoSeguro" />
            	</if>
				<goto next="#LogTokenVal" />
        	<else/>
        		<throw event="error.com.genesyslab.composer.servererror" messageexpr="Consume_ValTokenData.errorMsg" />
        	</if>
		</block>
		
		<catch event="error.badfetch">
			<goto next="#Assign_FallaWS" />
    	</catch>
		<catch event="error.com.genesyslab.composer.servererror">
			<goto next="#Assign_FallaWS" />
    	</catch>
	</form>

	<!-- This is the Backend logic block -->
	<form id="LogTokenVal">

		<var name="AppStateString" expr="JSON.stringify(AppState)" />
    	<var name="tipo" expr="'0'" />
    	<var name="log" expr="'\n log Token Validation-Salida :: ---&gt;'+
'\n connid :: ---&gt; ' + AppState.connid+
'\n m_Identificacion :: ---&gt; ' + AppState.m_Identificacion+
'\n m_TipoId :: ---&gt; ' + AppState.m_TipoId+
'\n ProductId :: ---&gt; ' + AppState.ProductId+
'\n ProductNum :: ---&gt; ' + AppState.ProductId+
'\n OTP :: ---&gt; ' + AppState.clave+
'\n StatusDesc :: ---&gt; ' + AppState.StatusDesc+
'\n StatusCode :: ---&gt; ' + AppState.StatusCode+
'\n ChBytesEstadoResp :: ---&gt; ' + AppState.ChBytesEstadoResp+
'\n ChIdMensajeTs :: ---&gt; ' + AppState.ChIdMensajeTs+
'\n datoSeguro :: ---&gt; ' + AppState.datoSeguro+
'\n FIN mapeo variables :: ---&gt;'" />
    	<var name="idinteraccion" expr="AppState.CallUUID" />	
		<block>
			<data name="LogTokenValData" src="../src/Jsp/LogID.jsp" method="post"  enctype="multipart/form-data"
				namelist="AppStateString tipo log idinteraccion" />
        	<if cond="typeof LogTokenValData.errorMsg == 'undefined'">
        		<assign name="AppState.LogTokenValResult" expr="LogTokenValData" />
				<goto next="#Valida_RtaODS" />
        	<else/>
        		<throw event="error.com.genesyslab.composer.servererror" messageexpr="LogTokenValData.errorMsg" />
        	</if>
		</block>
		
		<catch event="error.badfetch">
			<goto next="#Valida_RtaODS" />
    	</catch>
		<catch event="error.com.genesyslab.composer.servererror">
			<goto next="#Valida_RtaODS" />
    	</catch>
	</form>

	<!-- This is the Backend logic block -->
	<form id="LOG_FallaWsProd">

		<var name="AppStateString" expr="JSON.stringify(AppState)" />
    	<var name="tipo" expr="'0'" />
    	<var name="log" expr="' ---------- REGISTRO DATOS LLAMADA GVP:: BANCO DE BOGOTA SERVILINEA :: INFO PROD---------- ' + 
'\n str_Main_numDoc----&gt; ' + AppState.str_Main_numDoc +
'\n m_TipoId----&gt; ' + AppState.m_TipoId +
'\n CustType----&gt; ' + AppState.CustType +
'\n CustTypeDesc----&gt; ' + AppState.CustTypeDesc +
'\n segmento----&gt; ' + AppState.str_segmento +
'\n SegmentCode----&gt; ' + AppState.SegmentCode +
'\n Fullname----&gt; ' + AppState.Fullname +
'\n BirthDay----&gt; ' + AppState.BirthDay +
'\n EmailAddr----&gt; ' + AppState.EmailAddr +
'\n ActualizaDatos----&gt; ' + AppState.ActualizaDatos +
'\n address----&gt; ' + AppState.Direccion +
'\n ArrCardID----&gt; ' + AppState.ArrCardID +
'\n ArrCardtype----&gt; ' + AppState.ArrCardtype +
'\n ArrExpDt----&gt; ' + AppState.ArrExpDt +
'\n ArrPhones----&gt; ' + AppState.Telefonos +
'\n SafePhone----&gt; ' + AppState.datoSeguro +
'\n SafeEmail----&gt; ' + AppState.Email +
'\n ---------- FIN REGISTRO LLAMADA ---------- '" />
    	<var name="idinteraccion" expr="AppState.CallUUID" />	
		<block>
			<data name="LOG_FallaWsProdData" src="../src/Jsp/LogID.jsp" method="post"  enctype="multipart/form-data"
				namelist="AppStateString tipo log idinteraccion" />
        	<if cond="typeof LOG_FallaWsProdData.errorMsg == 'undefined'">
        		<assign name="AppState.LOG_FallaWsProdResult" expr="LOG_FallaWsProdData" />
				<goto next="#InsertODS" />
        	<else/>
        		<throw event="error.com.genesyslab.composer.servererror" messageexpr="LOG_FallaWsProdData.errorMsg" />
        	</if>
		</block>
		
		<catch event="error.badfetch">
			<goto next="#InsertODS" />
    	</catch>
		<catch event="error.com.genesyslab.composer.servererror">
			<goto next="#InsertODS" />
    	</catch>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign_FallaWS">
		<block>
			
			<assign name="AppState.m_Movimiento" expr="'Falla transacción TokenValidation'" />			
			<log expr="'Assigning variable AppState.m_Movimiento with value ' +'Falla transacción TokenValidation'"/>
			<assign name="AppState.rtaOds" expr="1" />			
			<log expr="'Assigning variable AppState.rtaOds with value ' +1"/>
			<assign name="AppState.StatusCode" expr="1" />			
			<log expr="'Assigning variable AppState.StatusCode with value ' +1"/>				
			<goto next="#DB_FallaVOTP" />
		</block>
	</form>

	<!-- This is the Backend logic block -->
	<form id="InsertODS">

		<var name="AppStateString" expr="JSON.stringify(AppState)" />
    	<var name="connid" expr="AppState.connid" />
    	<var name="attxn_cod_transac" expr="'VOTP'" />
    	<var name="attxn_byte_estado" expr="AppState.rtaOds" />
    	<var name="attxn_cod_rechazo" expr="AppState.rtaRechazo" />
    	<var name="attxn_des_rechazo" expr="AppState.desRechazo" />
    	<var name="attxn_cod_tran_ori" expr="'VOTP'" />
    	<var name="attxn_val_transac" expr="''" />
    	<var name="attxn_tip_iden_cli" expr="AppState.m_TipoId" />
    	<var name="attxn_num_iden_cli" expr="AppState.m_Identificacion" />
    	<var name="attxn_desc_txn" expr="'Validación de Token'" />
    	<var name="attxn_pan" expr="AppState.attxn_pan" />
    	<var name="attxn_soporte_txn" expr="'Validación de Token'" />
    	<var name="attxn_bin_tarj" expr="AppState.attxn_bin" />
    	<var name="attxn_cod_serv" expr="''" />
    	<var name="attxn_cajero" expr="AppState.attxn_cajero" />	
		<block>
			<data name="InsertODSData" src="../src/Jsp/setODS.jsp" method="post"  enctype="multipart/form-data"
				namelist="AppStateString connid attxn_cod_transac attxn_byte_estado attxn_cod_rechazo attxn_des_rechazo attxn_cod_tran_ori attxn_val_transac attxn_tip_iden_cli attxn_num_iden_cli attxn_desc_txn attxn_pan attxn_soporte_txn attxn_bin_tarj attxn_cod_serv attxn_cajero" />
        	<if cond="typeof InsertODSData.errorMsg == 'undefined'">
        		<assign name="AppState.InsertODSResult" expr="InsertODSData" />
            	<if cond="typeof AppState.InsertODSResult.status != 'undefined'">
            		<assign name="AppState.status" expr="AppState.InsertODSResult.status" />
            	</if>
				<goto next="#Val_IdMensaje" />
        	<else/>
        		<throw event="error.com.genesyslab.composer.servererror" messageexpr="InsertODSData.errorMsg" />
        	</if>
		</block>
		
		<catch event="error.badfetch">
			<goto next="#Falla_ODS" />
    	</catch>
		<catch event="error.com.genesyslab.composer.servererror">
			<goto next="#Falla_ODS" />
    	</catch>
	</form>

	<!-- This is the Assign block -->
	<form id="Falla_ODS">
		<block>
			
			<assign name="AppState.m_Movimiento" expr="'Falla InsertODS'" />			
			<log expr="'Assigning variable AppState.m_Movimiento with value ' +'Falla InsertODS'"/>				
			<goto next="#Copy_1_DB_FallaVOTP" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Val_Contador">
		<block>
			<if cond="AppState.contador&gt;=3">
				
				<!-- Post Action -->
				<script>try{
				AppState.m_Movimiento='Excede intentos permitidos'
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#DB_ExcedeInt" />
			</if>
			<goto next="#Au_ClaveInv" />
		</block>
	</form>

	<!-- This is the Backend logic block -->
	<form id="Copy_1_LogTokenVal">

		<var name="AppStateString" expr="JSON.stringify(AppState)" />
    	<var name="tipo" expr="'0'" />
    	<var name="log" expr="'\n log Token Validation-Entrada :: ---&gt;'+
'\n connid :: ---&gt; ' + AppState.connid+
'\n m_Identificacion :: ---&gt; ' + AppState.m_Identificacion+
'\n m_TipoId :: ---&gt; ' + AppState.m_TipoId+
'\n ProductId :: ---&gt; ' + AppState.ProductId+
'\n ProductNum :: ---&gt; ' + AppState.ProductId+
'\n OTP :: ---&gt; ' + AppState.clave+
'\n StatusDesc :: ---&gt; ' + AppState.StatusDesc+
'\n StatusCode :: ---&gt; ' + AppState.StatusCode+
'\n ChBytesEstadoResp :: ---&gt; ' + AppState.ChBytesEstadoResp+
'\n ChIdMensajeTs :: ---&gt; ' + AppState.ChIdMensajeTs+
'\n FIN mapeo variables :: ---&gt;'" />
    	<var name="idinteraccion" expr="AppState.CallUUID" />	
		<block>
			<data name="Copy_1_LogTokenValData" src="../src/Jsp/LogID.jsp" method="post"  enctype="multipart/form-data"
				namelist="AppStateString tipo log idinteraccion" />
        	<if cond="typeof Copy_1_LogTokenValData.errorMsg == 'undefined'">
        		<assign name="AppState.Copy_1_LogTokenValResult" expr="Copy_1_LogTokenValData" />
				<goto next="#Consume_ValToken" />
        	<else/>
        		<throw event="error.com.genesyslab.composer.servererror" messageexpr="Copy_1_LogTokenValData.errorMsg" />
        	</if>
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Assign_NoPodemosAtender">
		<block>
			
			<assign name="AppState.m_Movimiento" expr="'En este momento no podemos atender su solicitud'" />			
			<log expr="'Assigning variable AppState.m_Movimiento with value ' +'En este momento no podemos atender su solicitud'"/>				
			<goto next="#DB_NoPodAtender" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Valida_RtaODS">
		<block>
			<if cond="AppState.StatusCode==0">
				
				<!-- Post Action -->
				<script>try{
				AppState.rtaOds=0
				}
				catch(err){}
				
				</script>
				
				<!-- This is the OutLink -->
				<goto next="#InsertODS" />
			</if>
			<if cond="AppState.StatusCode==''">
				
				<!-- This is the OutLink -->
				<goto next="#Ass_ODS" />
			</if>
			<goto next="#Ass_ODS" />
		</block>
	</form>

	<!-- This is the Assign block -->
	<form id="Ass_ODS">
		<block>
			
			<assign name="AppState.rtaOds" expr="1" />			
			<log expr="'Assigning variable AppState.rtaOds with value ' +1"/>
			<assign name="AppState.rtaRechazo" expr="AppState.ChBytesEstadoResp" />			
			<log expr="'Assigning variable AppState.rtaRechazo with value ' +AppState.ChBytesEstadoResp"/>
			<assign name="AppState.desRechazo" expr="AppState.StatusDesc" />			
			<log expr="'Assigning variable AppState.desRechazo with value ' +AppState.StatusDesc"/>				
			<goto next="#InsertODS" />
		</block>
	</form>

	<!-- This is the Prompt block -->
	<form id="AudioNoPodeReal">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + 'es-CO' + '/' + 'es-CO' + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = 'es-CO';
	            AppState.APP_ASR_LANGUAGE = 'es-CO';
	        </script>
        </block>
        
        
    	<block name="AudioNoPodeRealP0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1023.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#Au_FinLlx" />
    	</block>
	</form>

	<!-- This is the Disconnect block -->
	<form id="Disconnect3">
		<block>

			<disconnect />
    	</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Val_MenuAnt">
		<block>
			<if cond="AppState.menuAnt=='MenuAnterior'">
				
				<!-- This is the OutLink -->
				<goto next="#MenuTransacciones" />
			</if>
			<goto next="#Exit2" />
		</block>
	</form>

	<!-- This is the Branching block -->
	<form id="Valida_Cafetero">
		<block>
			<if cond="AppState.cafeteros==2">
				
				<!-- This is the OutLink -->
				<goto next="#SD_Cafeteros" />
			</if>
			<goto next="#Val_MenuAnt" />
		</block>
	</form>

	<!-- This is the Subdialog block -->
	<form id="SD_Cafeteros">

		<subdialog name="SD_CafeterosSubdialog" fetchhint="prefetch"  src="../src-gen/Tarjeta_Cafetera.vxml">
    		<param name="varActionParentId" expr="'Transacciones'"/>
			<param name="RPBloqueos" expr="AppState.RPBloqueos" />
			<param name="RPCafetero" expr="AppState.RPCafetero" />
			<param name="RPMesaCafetera" expr="AppState.RPMesaCafetera" />
			<param name="RPServicios" expr="AppState.RPServicios" />
			<param name="attxn_cajero" expr="AppState.attxn_cajero" />
			<param name="connid" expr="AppState.connid" />
			<param name="m_Origen" expr="AppState.m_Origen" />
			<param name="menuAnt" expr="AppState.menuAnt" />
			<param name="rutaAudios" expr="AppState.rutaAudios" />
			<param name="strSwToken" expr="''" />
			<filled>
				<goto next="#Exit2" />
			</filled>
		</subdialog>
		
	</form>

	<!-- This is the Prompt block -->
	<form id="Au_FinLlx">
        
        	        
        <script srcexpr="AppState.VOXFILEDIR + '/PromptSwitch.js'" />
        <script srcexpr="AppState.VOXFILEDIR + '/' + 'es-CO' + '/' + 'es-CO' + '.js'" />
        <block>
	        <script>
	            AppState.PREV_APP_LANGUAGE = AppState.APP_LANGUAGE;
	            AppState.PREV_APP_ASR_LANGUAGE = AppState.APP_ASR_LANGUAGE;
	            AppState.APP_LANGUAGE = 'es-CO';
	            AppState.APP_ASR_LANGUAGE = 'es-CO';
	        </script>
        </block>
        
        
    	<block name="Au_FinLlxP0">
  			<prompt bargein="true"  gvp:langexpr="AppState.APP_LANGUAGE">
				<audio expr="AppState.VOXFILEDIR + '/' + AppState.APP_LANGUAGE + '/' + 'audios/1024.wav'"></audio>
    		</prompt>
		</block>
    	<block>
	        <script>resetLanguage()</script>
    		<goto next="#Disconnect3" />
    	</block>
	</form>

	<!-- This is the Backend logic block -->
	<form id="BKN_Log_HU">

		<var name="AppStateString" expr="JSON.stringify(AppState)" />
    	<var name="tipo" expr="'4'" />
    	<var name="log" expr="' Error en llamada :: BANCO DE BOGOTA SERVILINEA :: TRANSACCIONES ' + 
'\n HangUp -----&gt;  ' + AppState.CallUUID + 
'\n AppState.LAST_EVENT_ELEMENT ----&gt; ' + AppState.LAST_EVENT_ELEMENT +
'\n AppState.LAST_EVENT_LINE -----&gt; ' + AppState.LAST_EVENT_LINE +
'\n AppState.LAST_EVENT_MSG -----&gt; ' + AppState.LAST_EVENT_MSG +
'\n AppState.LAST_EVENT_NAME -----&gt; ' + AppState.LAST_EVENT_NAME +
'\n AppState.LAST_EVENT_URL -----&gt; ' + AppState.LAST_EVENT_URL" />
    	<var name="idinteraccion" expr="AppState.CallUUID" />	
		<block>
			<data name="BKN_Log_HUData" src="../src/Jsp/LogID.jsp" method="post"  enctype="multipart/form-data"
				namelist="AppStateString tipo log idinteraccion" />
        	<if cond="typeof BKN_Log_HUData.errorMsg == 'undefined'">
        		<assign name="AppState.BKN_Log_HUResult" expr="BKN_Log_HUData" />
				<goto next="#Disconnect7" />
        	<else/>
        		<throw event="error.com.genesyslab.composer.servererror" messageexpr="BKN_Log_HUData.errorMsg" />
        	</if>
		</block>
		
		<catch event="error.badfetch">
			<goto next="#Disconnect7" />
    	</catch>
		<catch event="error.com.genesyslab.composer.servererror">
			<goto next="#Disconnect7" />
    	</catch>
	</form>

	<!-- This is the Backend logic block -->
	<form id="BKN_Log_Transf">

		<var name="AppStateString" expr="JSON.stringify(AppState)" />
    	<var name="tipo" expr="'4'" />
    	<var name="log" expr="' Error en llamada :: BANCO DE BOGOTA SERVILINEA :: TRANSACCIONES ' + 
'\n Transfer-----&gt;  ' + AppState.CallUUID + 
'\n AppState.LAST_EVENT_ELEMENT ----&gt; ' + AppState.LAST_EVENT_ELEMENT +
'\n AppState.LAST_EVENT_LINE -----&gt; ' + AppState.LAST_EVENT_LINE +
'\n AppState.LAST_EVENT_MSG -----&gt; ' + AppState.LAST_EVENT_MSG +
'\n AppState.LAST_EVENT_NAME -----&gt; ' + AppState.LAST_EVENT_NAME +
'\n AppState.LAST_EVENT_URL -----&gt; ' + AppState.LAST_EVENT_URL" />
    	<var name="idinteraccion" expr="AppState.CallUUID" />	
		<block>
			<data name="BKN_Log_TransfData" src="../src/Jsp/LogID.jsp" method="post"  enctype="multipart/form-data"
				namelist="AppStateString tipo log idinteraccion" />
        	<if cond="typeof BKN_Log_TransfData.errorMsg == 'undefined'">
        		<assign name="AppState.BKN_Log_TransfResult" expr="BKN_Log_TransfData" />
				<goto next="#Disconnect7" />
        	<else/>
        		<throw event="error.com.genesyslab.composer.servererror" messageexpr="BKN_Log_TransfData.errorMsg" />
        	</if>
		</block>
		
		<catch event="error.badfetch">
			<goto next="#Disconnect7" />
    	</catch>
		<catch event="error.com.genesyslab.composer.servererror">
			<goto next="#Disconnect7" />
    	</catch>
	</form>

	<!-- This is the Backend logic block -->
	<form id="BKN_Log_Err">

		<var name="AppStateString" expr="JSON.stringify(AppState)" />
    	<var name="tipo" expr="'4'" />
    	<var name="log" expr="' Error en llamada :: BANCO DE BOGOTA SERVILINEA :: TRANSACCIONES ' + 
'\n Error General -----&gt;  ' + AppState.CallUUID + 
'\n AppState.LAST_EVENT_ELEMENT ----&gt; ' + AppState.LAST_EVENT_ELEMENT +
'\n AppState.LAST_EVENT_LINE -----&gt; ' + AppState.LAST_EVENT_LINE +
'\n AppState.LAST_EVENT_MSG -----&gt; ' + AppState.LAST_EVENT_MSG +
'\n AppState.LAST_EVENT_NAME -----&gt; ' + AppState.LAST_EVENT_NAME +
'\n AppState.LAST_EVENT_URL -----&gt; ' + AppState.LAST_EVENT_URL" />
    	<var name="idinteraccion" expr="AppState.CallUUID" />	
		<block>
			<data name="BKN_Log_ErrData" src="../src/Jsp/LogID.jsp" method="post"  enctype="multipart/form-data"
				namelist="AppStateString tipo log idinteraccion" />
        	<if cond="typeof BKN_Log_ErrData.errorMsg == 'undefined'">
        		<assign name="AppState.BKN_Log_ErrResult" expr="BKN_Log_ErrData" />
				<goto next="#Disconnect7" />
        	<else/>
        		<throw event="error.com.genesyslab.composer.servererror" messageexpr="BKN_Log_ErrData.errorMsg" />
        	</if>
		</block>
		
		<catch event="error.badfetch">
			<goto next="#Disconnect7" />
    	</catch>
		<catch event="error.com.genesyslab.composer.servererror">
			<goto next="#Disconnect7" />
    	</catch>
	</form>

	<!-- This is the Disconnect block -->
	<form id="Disconnect7">
		<block>

			<disconnect />
    	</block>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_InicioTransacc">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_InicioTransaccData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_InicioTransaccData.errorMsg == 'undefined'">
            	<if cond="typeof DB_InicioTransaccData.db_result != 'undefined'">
            		
            		<if cond="DB_InicioTransaccData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_InicioTransaccDBResult" expr="DB_InicioTransaccData.db_result" />
            		
            		<assign name="AppState.DB_InicioTransaccDBResultColumnNames" expr="DB_InicioTransaccData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_InicioTransaccData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_InicioTransaccData.db_outparams"/>
					
            	</if>
    			<goto next="#Valida_RtaCRMM" />
        	<else/>
        	    <if cond="typeof DB_InicioTransaccData.errorType != 'undefined'">
        	        <if cond="DB_InicioTransaccData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_InicioTransaccData.errorMsg" />
    	            <elseif cond="DB_InicioTransaccData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_InicioTransaccData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_InicioTransaccData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#Valida_RtaCRMM" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#Valida_RtaCRMM" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#Valida_RtaCRMM" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#Valida_RtaCRMM" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#Valida_RtaCRMM" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_UsuarioAuth">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_UsuarioAuthData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_UsuarioAuthData.errorMsg == 'undefined'">
            	<if cond="typeof DB_UsuarioAuthData.db_result != 'undefined'">
            		
            		<if cond="DB_UsuarioAuthData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_UsuarioAuthDBResult" expr="DB_UsuarioAuthData.db_result" />
            		
            		<assign name="AppState.DB_UsuarioAuthDBResultColumnNames" expr="DB_UsuarioAuthData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_UsuarioAuthData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_UsuarioAuthData.db_outparams"/>
					
            	</if>
    			<goto next="#Valida_EstadoToken" />
        	<else/>
        	    <if cond="typeof DB_UsuarioAuthData.errorType != 'undefined'">
        	        <if cond="DB_UsuarioAuthData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_UsuarioAuthData.errorMsg" />
    	            <elseif cond="DB_UsuarioAuthData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_UsuarioAuthData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_UsuarioAuthData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#Valida_EstadoToken" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#Valida_EstadoToken" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#Valida_EstadoToken" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#Valida_EstadoToken" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#Valida_EstadoToken" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_NoAuth">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_NoAuthData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_NoAuthData.errorMsg == 'undefined'">
            	<if cond="typeof DB_NoAuthData.db_result != 'undefined'">
            		
            		<if cond="DB_NoAuthData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_NoAuthDBResult" expr="DB_NoAuthData.db_result" />
            		
            		<assign name="AppState.DB_NoAuthDBResultColumnNames" expr="DB_NoAuthData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_NoAuthData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_NoAuthData.db_outparams"/>
					
            	</if>
    			<goto next="#Au_NoDisp" />
        	<else/>
        	    <if cond="typeof DB_NoAuthData.errorType != 'undefined'">
        	        <if cond="DB_NoAuthData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_NoAuthData.errorMsg" />
    	            <elseif cond="DB_NoAuthData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_NoAuthData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_NoAuthData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#Au_NoDisp" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#Au_NoDisp" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#Au_NoDisp" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#Au_NoDisp" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#Au_NoDisp" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_TokenN">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_TokenNData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_TokenNData.errorMsg == 'undefined'">
            	<if cond="typeof DB_TokenNData.db_result != 'undefined'">
            		
            		<if cond="DB_TokenNData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_TokenNDBResult" expr="DB_TokenNData.db_result" />
            		
            		<assign name="AppState.DB_TokenNDBResultColumnNames" expr="DB_TokenNData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_TokenNData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_TokenNData.db_outparams"/>
					
            	</if>
    			<goto next="#MenuTransacciones" />
        	<else/>
        	    <if cond="typeof DB_TokenNData.errorType != 'undefined'">
        	        <if cond="DB_TokenNData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_TokenNData.errorMsg" />
    	            <elseif cond="DB_TokenNData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_TokenNData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_TokenNData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#MenuTransacciones" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#MenuTransacciones" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#MenuTransacciones" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#MenuTransacciones" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#MenuTransacciones" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_TokenS">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_TokenSData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_TokenSData.errorMsg == 'undefined'">
            	<if cond="typeof DB_TokenSData.db_result != 'undefined'">
            		
            		<if cond="DB_TokenSData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_TokenSDBResult" expr="DB_TokenSData.db_result" />
            		
            		<assign name="AppState.DB_TokenSDBResultColumnNames" expr="DB_TokenSData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_TokenSData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_TokenSData.db_outparams"/>
					
            	</if>
    			<goto next="#Au_TokenInact" />
        	<else/>
        	    <if cond="typeof DB_TokenSData.errorType != 'undefined'">
        	        <if cond="DB_TokenSData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_TokenSData.errorMsg" />
    	            <elseif cond="DB_TokenSData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_TokenSData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_TokenSData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#Au_TokenInact" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#Au_TokenInact" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#Au_TokenInact" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#Au_TokenInact" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#Au_TokenInact" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_TokenB">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_TokenBData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_TokenBData.errorMsg == 'undefined'">
            	<if cond="typeof DB_TokenBData.db_result != 'undefined'">
            		
            		<if cond="DB_TokenBData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_TokenBDBResult" expr="DB_TokenBData.db_result" />
            		
            		<assign name="AppState.DB_TokenBDBResultColumnNames" expr="DB_TokenBData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_TokenBData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_TokenBData.db_outparams"/>
					
            	</if>
    			<goto next="#Au_TokenBloq" />
        	<else/>
        	    <if cond="typeof DB_TokenBData.errorType != 'undefined'">
        	        <if cond="DB_TokenBData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_TokenBData.errorMsg" />
    	            <elseif cond="DB_TokenBData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_TokenBData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_TokenBData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#Au_TokenBloq" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#Au_TokenBloq" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#Au_TokenBloq" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#Au_TokenBloq" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#Au_TokenBloq" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_NoPodAtender">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_NoPodAtenderData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_NoPodAtenderData.errorMsg == 'undefined'">
            	<if cond="typeof DB_NoPodAtenderData.db_result != 'undefined'">
            		
            		<if cond="DB_NoPodAtenderData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_NoPodAtenderDBResult" expr="DB_NoPodAtenderData.db_result" />
            		
            		<assign name="AppState.DB_NoPodAtenderDBResultColumnNames" expr="DB_NoPodAtenderData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_NoPodAtenderData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_NoPodAtenderData.db_outparams"/>
					
            	</if>
    			<goto next="#Au_Despedida" />
        	<else/>
        	    <if cond="typeof DB_NoPodAtenderData.errorType != 'undefined'">
        	        <if cond="DB_NoPodAtenderData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_NoPodAtenderData.errorMsg" />
    	            <elseif cond="DB_NoPodAtenderData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_NoPodAtenderData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_NoPodAtenderData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#Au_Despedida" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#Au_Despedida" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#Au_Despedida" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#Au_Despedida" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#Au_Despedida" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DBData1">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'NavegacionNI.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DBData1Data" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DBData1Data.errorMsg == 'undefined'">
            	<if cond="typeof DBData1Data.db_result != 'undefined'">
            		
            		<if cond="DBData1Data.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DBData1DBResult" expr="DBData1Data.db_result" />
            		
            		<assign name="AppState.DBData1DBResultColumnNames" expr="DBData1Data.db_result_columns" />

            	</if>
            	<if cond="typeof DBData1Data.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DBData1Data.db_outparams"/>
					
            	</if>
    			<goto next="#despedida_M1" />
        	<else/>
        	    <if cond="typeof DBData1Data.errorType != 'undefined'">
        	        <if cond="DBData1Data.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DBData1Data.errorMsg" />
    	            <elseif cond="DBData1Data.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DBData1Data.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DBData1Data.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#despedida_M1" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#despedida_M1" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#despedida_M1" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#despedida_M1" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#despedida_M1" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DBData2">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'NavegacionNM.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DBData2Data" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DBData2Data.errorMsg == 'undefined'">
            	<if cond="typeof DBData2Data.db_result != 'undefined'">
            		
            		<if cond="DBData2Data.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DBData2DBResult" expr="DBData2Data.db_result" />
            		
            		<assign name="AppState.DBData2DBResultColumnNames" expr="DBData2Data.db_result_columns" />

            	</if>
            	<if cond="typeof DBData2Data.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DBData2Data.db_outparams"/>
					
            	</if>
    			<goto next="#despedida_M1" />
        	<else/>
        	    <if cond="typeof DBData2Data.errorType != 'undefined'">
        	        <if cond="DBData2Data.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DBData2Data.errorMsg" />
    	            <elseif cond="DBData2Data.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DBData2Data.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DBData2Data.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#despedida_M1" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#despedida_M1" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#despedida_M1" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#despedida_M1" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#despedida_M1" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_TokenA">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_TokenAData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_TokenAData.errorMsg == 'undefined'">
            	<if cond="typeof DB_TokenAData.db_result != 'undefined'">
            		
            		<if cond="DB_TokenAData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_TokenADBResult" expr="DB_TokenAData.db_result" />
            		
            		<assign name="AppState.DB_TokenADBResultColumnNames" expr="DB_TokenAData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_TokenAData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_TokenAData.db_outparams"/>
					
            	</if>
    			<goto next="#Ing_ClaveAleatoria" />
        	<else/>
        	    <if cond="typeof DB_TokenAData.errorType != 'undefined'">
        	        <if cond="DB_TokenAData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_TokenAData.errorMsg" />
    	            <elseif cond="DB_TokenAData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_TokenAData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_TokenAData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#Ing_ClaveAleatoria" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#Ing_ClaveAleatoria" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#Ing_ClaveAleatoria" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#Ing_ClaveAleatoria" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#Ing_ClaveAleatoria" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_ClaveAleatoria">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_ClaveAleatoriaData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_ClaveAleatoriaData.errorMsg == 'undefined'">
            	<if cond="typeof DB_ClaveAleatoriaData.db_result != 'undefined'">
            		
            		<if cond="DB_ClaveAleatoriaData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_ClaveAleatoriaDBResult" expr="DB_ClaveAleatoriaData.db_result" />
            		
            		<assign name="AppState.DB_ClaveAleatoriaDBResultColumnNames" expr="DB_ClaveAleatoriaData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_ClaveAleatoriaData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_ClaveAleatoriaData.db_outparams"/>
					
            	</if>
    			<goto next="#Copy_1_LogTokenVal" />
        	<else/>
        	    <if cond="typeof DB_ClaveAleatoriaData.errorType != 'undefined'">
        	        <if cond="DB_ClaveAleatoriaData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_ClaveAleatoriaData.errorMsg" />
    	            <elseif cond="DB_ClaveAleatoriaData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_ClaveAleatoriaData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_ClaveAleatoriaData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#Copy_1_LogTokenVal" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#Copy_1_LogTokenVal" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#Copy_1_LogTokenVal" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#Copy_1_LogTokenVal" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#Copy_1_LogTokenVal" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_FallaVOTP">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_FallaVOTPData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_FallaVOTPData.errorMsg == 'undefined'">
            	<if cond="typeof DB_FallaVOTPData.db_result != 'undefined'">
            		
            		<if cond="DB_FallaVOTPData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_FallaVOTPDBResult" expr="DB_FallaVOTPData.db_result" />
            		
            		<assign name="AppState.DB_FallaVOTPDBResultColumnNames" expr="DB_FallaVOTPData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_FallaVOTPData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_FallaVOTPData.db_outparams"/>
					
            	</if>
    			<goto next="#LOG_FallaWsProd" />
        	<else/>
        	    <if cond="typeof DB_FallaVOTPData.errorType != 'undefined'">
        	        <if cond="DB_FallaVOTPData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_FallaVOTPData.errorMsg" />
    	            <elseif cond="DB_FallaVOTPData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_FallaVOTPData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_FallaVOTPData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#LOG_FallaWsProd" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#LOG_FallaWsProd" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#LOG_FallaWsProd" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#LOG_FallaWsProd" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#LOG_FallaWsProd" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="Copy_1_DB_FallaVOTP">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="Copy_1_DB_FallaVOTPData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof Copy_1_DB_FallaVOTPData.errorMsg == 'undefined'">
            	<if cond="typeof Copy_1_DB_FallaVOTPData.db_result != 'undefined'">
            		
            		<if cond="Copy_1_DB_FallaVOTPData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.Copy_1_DB_FallaVOTPDBResult" expr="Copy_1_DB_FallaVOTPData.db_result" />
            		
            		<assign name="AppState.Copy_1_DB_FallaVOTPDBResultColumnNames" expr="Copy_1_DB_FallaVOTPData.db_result_columns" />

            	</if>
            	<if cond="typeof Copy_1_DB_FallaVOTPData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + Copy_1_DB_FallaVOTPData.db_outparams"/>
					
            	</if>
    			<goto next="#Val_IdMensaje" />
        	<else/>
        	    <if cond="typeof Copy_1_DB_FallaVOTPData.errorType != 'undefined'">
        	        <if cond="Copy_1_DB_FallaVOTPData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="Copy_1_DB_FallaVOTPData.errorMsg" />
    	            <elseif cond="Copy_1_DB_FallaVOTPData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="Copy_1_DB_FallaVOTPData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="Copy_1_DB_FallaVOTPData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#Val_IdMensaje" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#Val_IdMensaje" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#Val_IdMensaje" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#Val_IdMensaje" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#Val_IdMensaje" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_ClaveInv">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_ClaveInvData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_ClaveInvData.errorMsg == 'undefined'">
            	<if cond="typeof DB_ClaveInvData.db_result != 'undefined'">
            		
            		<if cond="DB_ClaveInvData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_ClaveInvDBResult" expr="DB_ClaveInvData.db_result" />
            		
            		<assign name="AppState.DB_ClaveInvDBResultColumnNames" expr="DB_ClaveInvData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_ClaveInvData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_ClaveInvData.db_outparams"/>
					
            	</if>
    			<goto next="#Val_Contador" />
        	<else/>
        	    <if cond="typeof DB_ClaveInvData.errorType != 'undefined'">
        	        <if cond="DB_ClaveInvData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_ClaveInvData.errorMsg" />
    	            <elseif cond="DB_ClaveInvData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_ClaveInvData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_ClaveInvData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#Val_Contador" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#Val_Contador" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#Val_Contador" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#Val_Contador" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#Val_Contador" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_ClaveVal">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_ClaveValData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_ClaveValData.errorMsg == 'undefined'">
            	<if cond="typeof DB_ClaveValData.db_result != 'undefined'">
            		
            		<if cond="DB_ClaveValData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_ClaveValDBResult" expr="DB_ClaveValData.db_result" />
            		
            		<assign name="AppState.DB_ClaveValDBResultColumnNames" expr="DB_ClaveValData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_ClaveValData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_ClaveValData.db_outparams"/>
					
            	</if>
    			<goto next="#Val_RespServicio" />
        	<else/>
        	    <if cond="typeof DB_ClaveValData.errorType != 'undefined'">
        	        <if cond="DB_ClaveValData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_ClaveValData.errorMsg" />
    	            <elseif cond="DB_ClaveValData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_ClaveValData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_ClaveValData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#Val_RespServicio" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#Val_RespServicio" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#Val_RespServicio" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#Val_RespServicio" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#Val_RespServicio" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_TransaExito">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_TransaExitoData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_TransaExitoData.errorMsg == 'undefined'">
            	<if cond="typeof DB_TransaExitoData.db_result != 'undefined'">
            		
            		<if cond="DB_TransaExitoData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_TransaExitoDBResult" expr="DB_TransaExitoData.db_result" />
            		
            		<assign name="AppState.DB_TransaExitoDBResultColumnNames" expr="DB_TransaExitoData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_TransaExitoData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_TransaExitoData.db_outparams"/>
					
            	</if>
    			<goto next="#Menu_Continuar" />
        	<else/>
        	    <if cond="typeof DB_TransaExitoData.errorType != 'undefined'">
        	        <if cond="DB_TransaExitoData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_TransaExitoData.errorMsg" />
    	            <elseif cond="DB_TransaExitoData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_TransaExitoData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_TransaExitoData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#Menu_Continuar" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#Menu_Continuar" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#Menu_Continuar" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#Menu_Continuar" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#Menu_Continuar" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_TransaNoExito">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_TransaNoExitoData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_TransaNoExitoData.errorMsg == 'undefined'">
            	<if cond="typeof DB_TransaNoExitoData.db_result != 'undefined'">
            		
            		<if cond="DB_TransaNoExitoData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_TransaNoExitoDBResult" expr="DB_TransaNoExitoData.db_result" />
            		
            		<assign name="AppState.DB_TransaNoExitoDBResultColumnNames" expr="DB_TransaNoExitoData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_TransaNoExitoData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_TransaNoExitoData.db_outparams"/>
					
            	</if>
    			<goto next="#AudioNoPodeReal" />
        	<else/>
        	    <if cond="typeof DB_TransaNoExitoData.errorType != 'undefined'">
        	        <if cond="DB_TransaNoExitoData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_TransaNoExitoData.errorMsg" />
    	            <elseif cond="DB_TransaNoExitoData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_TransaNoExitoData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_TransaNoExitoData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#AudioNoPodeReal" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#AudioNoPodeReal" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#AudioNoPodeReal" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#AudioNoPodeReal" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#AudioNoPodeReal" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_NoContinuar">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_NoContinuarData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_NoContinuarData.errorMsg == 'undefined'">
            	<if cond="typeof DB_NoContinuarData.db_result != 'undefined'">
            		
            		<if cond="DB_NoContinuarData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_NoContinuarDBResult" expr="DB_NoContinuarData.db_result" />
            		
            		<assign name="AppState.DB_NoContinuarDBResultColumnNames" expr="DB_NoContinuarData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_NoContinuarData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_NoContinuarData.db_outparams"/>
					
            	</if>
    			<goto next="#despedida_M1" />
        	<else/>
        	    <if cond="typeof DB_NoContinuarData.errorType != 'undefined'">
        	        <if cond="DB_NoContinuarData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_NoContinuarData.errorMsg" />
    	            <elseif cond="DB_NoContinuarData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_NoContinuarData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_NoContinuarData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#despedida_M1" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#despedida_M1" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#despedida_M1" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#despedida_M1" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#despedida_M1" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_Continuar">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_ContinuarData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_ContinuarData.errorMsg == 'undefined'">
            	<if cond="typeof DB_ContinuarData.db_result != 'undefined'">
            		
            		<if cond="DB_ContinuarData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_ContinuarDBResult" expr="DB_ContinuarData.db_result" />
            		
            		<assign name="AppState.DB_ContinuarDBResultColumnNames" expr="DB_ContinuarData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_ContinuarData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_ContinuarData.db_outparams"/>
					
            	</if>
    			<goto next="#MenuTransacciones" />
        	<else/>
        	    <if cond="typeof DB_ContinuarData.errorType != 'undefined'">
        	        <if cond="DB_ContinuarData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_ContinuarData.errorMsg" />
    	            <elseif cond="DB_ContinuarData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_ContinuarData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_ContinuarData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#MenuTransacciones" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#MenuTransacciones" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#MenuTransacciones" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#MenuTransacciones" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#MenuTransacciones" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_Saldos">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_SaldosData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_SaldosData.errorMsg == 'undefined'">
            	<if cond="typeof DB_SaldosData.db_result != 'undefined'">
            		
            		<if cond="DB_SaldosData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_SaldosDBResult" expr="DB_SaldosData.db_result" />
            		
            		<assign name="AppState.DB_SaldosDBResultColumnNames" expr="DB_SaldosData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_SaldosData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_SaldosData.db_outparams"/>
					
            	</if>
    			<goto next="#Saldos" />
        	<else/>
        	    <if cond="typeof DB_SaldosData.errorType != 'undefined'">
        	        <if cond="DB_SaldosData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_SaldosData.errorMsg" />
    	            <elseif cond="DB_SaldosData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_SaldosData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_SaldosData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#Saldos" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#Saldos" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#Saldos" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#Saldos" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#Saldos" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_Pagos">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_PagosData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_PagosData.errorMsg == 'undefined'">
            	<if cond="typeof DB_PagosData.db_result != 'undefined'">
            		
            		<if cond="DB_PagosData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_PagosDBResult" expr="DB_PagosData.db_result" />
            		
            		<assign name="AppState.DB_PagosDBResultColumnNames" expr="DB_PagosData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_PagosData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_PagosData.db_outparams"/>
					
            	</if>
    			<goto next="#Pagos" />
        	<else/>
        	    <if cond="typeof DB_PagosData.errorType != 'undefined'">
        	        <if cond="DB_PagosData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_PagosData.errorMsg" />
    	            <elseif cond="DB_PagosData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_PagosData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_PagosData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#Pagos" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#Pagos" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#Pagos" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#Pagos" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#Pagos" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_AvanceTransfer">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_AvanceTransferData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_AvanceTransferData.errorMsg == 'undefined'">
            	<if cond="typeof DB_AvanceTransferData.db_result != 'undefined'">
            		
            		<if cond="DB_AvanceTransferData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_AvanceTransferDBResult" expr="DB_AvanceTransferData.db_result" />
            		
            		<assign name="AppState.DB_AvanceTransferDBResultColumnNames" expr="DB_AvanceTransferData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_AvanceTransferData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_AvanceTransferData.db_outparams"/>
					
            	</if>
    			<goto next="#Transferencias" />
        	<else/>
        	    <if cond="typeof DB_AvanceTransferData.errorType != 'undefined'">
        	        <if cond="DB_AvanceTransferData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_AvanceTransferData.errorMsg" />
    	            <elseif cond="DB_AvanceTransferData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_AvanceTransferData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_AvanceTransferData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#Transferencias" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#Transferencias" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#Transferencias" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#Transferencias" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#Transferencias" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_Recargas">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_RecargasData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_RecargasData.errorMsg == 'undefined'">
            	<if cond="typeof DB_RecargasData.db_result != 'undefined'">
            		
            		<if cond="DB_RecargasData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_RecargasDBResult" expr="DB_RecargasData.db_result" />
            		
            		<assign name="AppState.DB_RecargasDBResultColumnNames" expr="DB_RecargasData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_RecargasData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_RecargasData.db_outparams"/>
					
            	</if>
    			<goto next="#Recargas" />
        	<else/>
        	    <if cond="typeof DB_RecargasData.errorType != 'undefined'">
        	        <if cond="DB_RecargasData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_RecargasData.errorMsg" />
    	            <elseif cond="DB_RecargasData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_RecargasData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_RecargasData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#Recargas" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#Recargas" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#Recargas" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#Recargas" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#Recargas" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_RepetirMe">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_RepetirMeData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_RepetirMeData.errorMsg == 'undefined'">
            	<if cond="typeof DB_RepetirMeData.db_result != 'undefined'">
            		
            		<if cond="DB_RepetirMeData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_RepetirMeDBResult" expr="DB_RepetirMeData.db_result" />
            		
            		<assign name="AppState.DB_RepetirMeDBResultColumnNames" expr="DB_RepetirMeData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_RepetirMeData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_RepetirMeData.db_outparams"/>
					
            	</if>
    			<goto next="#MenuTransacciones" />
        	<else/>
        	    <if cond="typeof DB_RepetirMeData.errorType != 'undefined'">
        	        <if cond="DB_RepetirMeData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_RepetirMeData.errorMsg" />
    	            <elseif cond="DB_RepetirMeData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_RepetirMeData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_RepetirMeData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#MenuTransacciones" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#MenuTransacciones" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#MenuTransacciones" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#MenuTransacciones" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#MenuTransacciones" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="Copy_1_DB_RepetirMe">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="Copy_1_DB_RepetirMeData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof Copy_1_DB_RepetirMeData.errorMsg == 'undefined'">
            	<if cond="typeof Copy_1_DB_RepetirMeData.db_result != 'undefined'">
            		
            		<if cond="Copy_1_DB_RepetirMeData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.Copy_1_DB_RepetirMeDBResult" expr="Copy_1_DB_RepetirMeData.db_result" />
            		
            		<assign name="AppState.Copy_1_DB_RepetirMeDBResultColumnNames" expr="Copy_1_DB_RepetirMeData.db_result_columns" />

            	</if>
            	<if cond="typeof Copy_1_DB_RepetirMeData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + Copy_1_DB_RepetirMeData.db_outparams"/>
					
            	</if>
    			<goto next="#Valida_Cafetero" />
        	<else/>
        	    <if cond="typeof Copy_1_DB_RepetirMeData.errorType != 'undefined'">
        	        <if cond="Copy_1_DB_RepetirMeData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="Copy_1_DB_RepetirMeData.errorMsg" />
    	            <elseif cond="Copy_1_DB_RepetirMeData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="Copy_1_DB_RepetirMeData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="Copy_1_DB_RepetirMeData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#Valida_Cafetero" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#Valida_Cafetero" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#Valida_Cafetero" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#Valida_Cafetero" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#Valida_Cafetero" />
        </catch>
	</form>

	<!-- This is the DB Data block -->
	<form id="DB_ExcedeInt">
		<var name="AppStateString" expr="'(' + JSON.stringify(AppState) + ')'" />
		<var name="db_query_type" expr="'SQLScriptFile'" />
		<!-- branch off based on the query type: SQL Query, Query File or Stored Procedure -->	
		<var name="db_query" expr="'Navegacion.sql'" />		
		<var name="db_name" expr="'ConnectionDB'" />
		<var name="db_timeout" expr="20" />
		
		
    	<block>
			<data name="DB_ExcedeIntData" src="../include/dbrequest.jsp" method="post" 
				namelist="AppStateString db_query db_query_type db_name db_timeout"
				 enctype="multipart/form-data" 
				 fetchtimeout="22s"/>
				
        	<if cond="typeof DB_ExcedeIntData.errorMsg == 'undefined'">
            	<if cond="typeof DB_ExcedeIntData.db_result != 'undefined'">
            		
            		<if cond="DB_ExcedeIntData.db_result.length == 0">
            			<throw event="error.com.genesyslab.composer.dbemptyresultset" messageexpr="'No records returned from database'" />
            		</if>
            		
            		<assign name="AppState.DB_ExcedeIntDBResult" expr="DB_ExcedeIntData.db_result" />
            		
            		<assign name="AppState.DB_ExcedeIntDBResultColumnNames" expr="DB_ExcedeIntData.db_result_columns" />

            	</if>
            	<if cond="typeof DB_ExcedeIntData.db_outparams != 'undefined'">
         			<log expr="'db_outparams:' + DB_ExcedeIntData.db_outparams"/>
					
            	</if>
    			<goto next="#Au_FinLlx" />
        	<else/>
        	    <if cond="typeof DB_ExcedeIntData.errorType != 'undefined'">
        	        <if cond="DB_ExcedeIntData.errorType == 'timeout'">
    	        	    <throw event="error.com.genesyslab.composer.dbtimeout" messageexpr="DB_ExcedeIntData.errorMsg" />
    	            <elseif cond="DB_ExcedeIntData.errorType == 'connectionerror'" />
    	        	    <throw event="error.com.genesyslab.composer.dbconnectionerror" messageexpr="DB_ExcedeIntData.errorMsg" />
    	            </if>
        		<else/>
	        		<throw event="error.com.genesyslab.composer.dberror" messageexpr="DB_ExcedeIntData.errorMsg" />
        		</if>
        	</if>
		</block>
    	<catch event="error.com.genesyslab.composer.dberror">
    		<goto next="#Au_FinLlx" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbemptyresultset">
    		<goto next="#Au_FinLlx" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbtimeout">
    		<goto next="#Au_FinLlx" />
        </catch>
    	<catch event="error.com.genesyslab.composer.dbconnectionerror">
    		<goto next="#Au_FinLlx" />
        </catch>
    	<catch event="error.com.genesyslab.composer.variablemappingerror">
    		<goto next="#Au_FinLlx" />
        </catch>
	</form>

</vxml>
